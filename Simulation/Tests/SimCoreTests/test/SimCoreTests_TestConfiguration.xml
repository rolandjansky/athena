<!DOCTYPE unifiedTestConfiguration SYSTEM "http://www.hep.ucl.ac.uk/atlas/AtlasTesting/DTD/unifiedTestConfiguration.dtd">
<unifiedTestConfiguration>
  <rtt xmlns="http://www.hep.ucl.ac.uk/atlas/AtlasTesting/rtt">
    <rttContactPerson>John Chapman (chapman@hep.phy.cam.ac.uk)</rttContactPerson>
    <mailto>atlas-simulation-testreports@cern.ch</mailto>

    <!--
        don't forget to check the xml file with
        python /afs/cern.ch/user/r/rtt/public/validateXML.py SimCoreTests_TestConfiguration.xml

and to update the twiki page:
https://twiki.cern.ch/twiki/bin/viewauth/Atlas/SimCoreTests

    -->

    <jobList>

      <classification>
        <displayClass>OfflineValidation</displayClass>
        <displayProcess>Simul</displayProcess>
        <displayComponent>Athena-Core</displayComponent>
      </classification>

      <chain>
        <chainName>RegressionTest_AtlasGeom19Sim</chainName>
        <sequential>

          <chainElement>
            <jobTransform userJobId="AtlasGeom19Sim">
              <doc>Reading gen events, single particle</doc>
              <jobTransformJobName>AtlasGeom19</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/mu_E200_eta0-25.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '10' --skipEvents '0' --randomSeed '10' --geometryVersion 'ATLAS-GEO-19-01-00_VALIDATION' --conditionsTag 'OFLCOND-MC12-SIM-00'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>AtlasGeom19Sim_HITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/AtlasGeom19Sim.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_AtlasGeom19Sim.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="AtlasGeom19Sim_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>AtlasGeom19Sim_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py AtlasGeom19Sim</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_TTbarSim</chainName>
        <sequential>

          <chainElement>
            <jobTransform userJobId="TTbarSim">
              <doc>Reading gen events, full physics</doc>
              <jobTransformJobName>T1_McAtNlo_Jimmy</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/ttbar_muplusjets-pythia6-7000.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '4' --skipEvents '0' --randomSeed '10' --geometryVersion 'ATLAS-GEO-20-00-01' --conditionsTag 'OFLCOND-MC12-SIM-00' --postInclude 'G4AtlasTests/postInclude.DCubeTest.py' --preExec 'simFlags.ReleaseGeoModel=False;'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>TTbarSimHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/TTbarSim.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_TTbarSim.HITS.pool.root.diffPool</keepFilePattern>
              </test>
              <testToInvert> <!-- still failing as of October 2013 -->
                <jobGroupName>SimCoreTests:SimCoreJobTransformTests</jobGroupName>
                <testidentifier>StrangePDGGrepper</testidentifier>
              </testToInvert>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="TTbarSim_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>TTbarSim_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py TTbarSim</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_QgspBertChipsTest</chainName>
        <sequential>

          <chainElement>
            <jobTransform userJobId="QgspBertChipsTest">
              <doc>Reading gen events, full physics</doc>
              <jobTransformJobName>J2_jetjet-pythia6</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/J2_jetjet-pythia6-7000.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '5' --skipEvents '0' --randomSeed '10' --geometryVersion 'ATLAS-GEO-20-00-01' --conditionsTag 'OFLCOND-MC12-SIM-00' --physicsList 'QGSP_BERT_CHIPS'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>medium</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>QgspBertChipsTestHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/QgspBertChipsTest.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_QgspBertChipsTest.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="QgspBertChipsTest_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>QgspBertChipsTest_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py QgspBertChipsTest</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>

          </chainElement>
        </sequential>
      </chain>



      <chain>
        <chainName>RegressionTest_NeutronCutTest</chainName>
        <sequential>
          <chainElement>

            <jobTransform userJobId="NeutronCutTest">
              <doc>Reading gen events, full physics</doc>
              <jobTransformJobName>A3_Ztautau-NeutronCut</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/A3_Ztautau_filter-pythia6-7000.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '5' --skipEvents '0' --randomSeed '10' --geometryVersion 'ATLAS-GEO-20-00-01' --conditionsTag 'OFLCOND-MC12-SIM-00' --preInclude 'SimulationJobOptions/preInclude.G4SignalCavern.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>medium</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>NeutronCutTestHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/NeutronCutTest.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_NeutronCutTest.HITS.pool.root.diffPool</keepFilePattern>
              </test>
              <testToInvert> <!-- still failing as of October 2013 -->
                <jobGroupName>SimCoreTests:SimCoreJobTransformTests</jobGroupName>
                <testidentifier>StrangePDGGrepper</testidentifier>
              </testToInvert>
            </jobTransform>

          </chainElement>

          <chainElement>
            <jobTransform userJobId="NeutronCutTest_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>NeutronCutTest_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py NeutronCutTest</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>
        </sequential>
      </chain>


      <chain>
        <chainName>RegressionTest_FtfpBertTest</chainName>
        <sequential>
          <chainElement>
            <jobTransform userJobId="FtfpBertTest">
              <doc>Reading gen events, full physics</doc>
              <jobTransformJobName>MinBiasFtfpBert</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/minbias_Inelastic-pythia8-7000.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '5' --skipEvents '0' --randomSeed '10' --geometryVersion 'ATLAS-GEO-20-00-01' --conditionsTag 'OFLCOND-MC12-SIM-00' --physicsList 'FTFP_BERT'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>FtfpBertTestHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/FtfpBertTest.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_FtfpBertTest.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>

          </chainElement>

          <chainElement>
            <jobTransform userJobId="FtfpBertTest_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>FtfpBertTest_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py FtfpBertTest</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>

          </chainElement>
        </sequential>
      </chain>


      <chain>
        <chainName>RegressionTest_QgsBicTest</chainName>
        <sequential>
          <chainElement>
            <jobTransform userJobId="QgsBicTest">
              <doc>Reading gen events, full physics</doc>
              <jobTransformJobName>SusyQgsBic</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/susy_SU3-herwigpp-7000.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '5' --skipEvents '0' --randomSeed '42' --geometryVersion 'ATLAS-GEO-20-00-01' --conditionsTag 'OFLCOND-MC12-SIM-00' --physicsList 'QGSP_BIC'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>medium</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>QgsBicTestHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/QgsBicTest.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_QgsBicTest.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="QgsBicTest_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>QgsBicTest_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py QgsBicTest</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>

          </chainElement>
        </sequential>
      </chain>


      <chain>
        <chainName>RegressionTest_HeavyIonSim</chainName>
        <sequential>
          <chainElement>
            <jobTransform userJobId="HeavyIonSim">
              <doc>Reading gen events, lead ions peripheral simulation (low multiplicity)</doc>
              <jobTransformJobName>HeavyIons_Simulation</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/pbpb_Peripheral-hijing-5500.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '1' --skipEvents '4' --randomSeed '10' --geometryVersion 'ATLAS-GEO-20-00-01' --conditionsTag 'OFLCOND-MC12-SIM-00' --postInclude 'SimulationJobOptions/postInclude.HijingPars.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>HeavyIonSimHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/HeavyIonSim.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_HeavyIonSim.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="HeavyIonSim_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>HeavyIonSim_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py HeavyIonSim</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>
        </sequential>
      </chain>


      <chain>
        <chainName>RegressionTest_CavernBg_EVNT2TR</chainName>
        <sequential>

          <chainElement>
            <jobTransform userJobId="CavernBg_EVNT2TR">
              <doc>Reading min bias events, write cavern background track records</doc>
              <jobTransformJobName>CavernBg_EVNT2TR</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/minbias_Inelastic_low-pythia8-7000.evgen.pool.root' --outputHITSFile 'discard.HITS.pool.root' --outputEVNT_CAVERNTRFile 'cavbg.EVNT.pool.root' --maxEvents '2' --skipEvents '0' --randomSeed '5678' --geometryVersion 'ATLAS-GEO-20-00-01' --conditionsTag 'OFLCOND-MC12-SIM-00' --physicsList 'QGSP_BERT_HP'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>medium</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>CavernBg_EVNT2TR_EVNTFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>cavbg.EVNT.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/CavernBg.EVNT.pool.root</argvalue>
                </arg>
                <keepFilePattern>cavbg.EVNT.pool.root_CavernBg.EVNT.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="CavernBg_EVNT2TR_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>CavernBg_EVNT2TR_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py CavernBg_EVNT2TR</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>CavernBg_EVNT_RegressionTestRunner</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>today.EVNT.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>yesterday.EVNT.pool.root</argvalue>
                </arg>
                <keepFilePattern>today.EVNT.pool.root_yesterday.EVNT.pool.root.diffPool</keepFilePattern>
              </test>
              <testToRemove>
                <jobGroupName>SimCoreTests:SimCoreRegressionTests</jobGroupName>
                <testidentifier>HITS_RegressionTestRunner</testidentifier>
              </testToRemove>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>


      <chain>
        <chainName>RegressionTest_CavernBg_TR2HITS</chainName>
        <sequential>

          <chainElement>
            <jobTransform userJobId="CavernBg_TR2HITS">
              <doc>Reading cavern background track record, creating cav bg hits.</doc>
              <jobTransformJobName>CavernBg_TR2HITS</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNT_CAVERNFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/cavernbg-pythia8-7000.evgen.pool.root' --outputHITSFile 'cavbg.HITS.pool.root' --maxEvents '5' --skipEvents '0' --randomSeed '8765' --geometryVersion 'ATLAS-GEO-20-00-01' --conditionsTag 'OFLCOND-MC12-SIM-00' --physicsList 'QGSP_BERT_HP'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>medium</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>CavernBg_HITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>cavbg.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/CavernBg.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>cavbg.HITS.pool.root_CavernBg.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="CavernBg_TR2HITS_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>CavernBg_TR2HITS_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py CavernBg_TR2HITS</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_FrozenShowerFCalOnly</chainName>
        <sequential>

          <chainElement>
            <jobTransform userJobId="FrozenShowerFCalOnly">
              <doc>Testing basic frozen showers (FCal only)</doc>
              <jobTransformJobName>FrozenShowerFCalOnly</jobTransformJobName>
              <!-- setting environment variables needs syntax update -->
              <jobTransformCmd>FSRELEASE=1.0.0 DATAPATH=$DATAPATH:/afs/cern.ch/atlas/software/FSreleases/DD0/FSRelease/1.0.0 AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/17.2.X/17.2.6.2/e_E50_eta34_49.EVNT.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents 10 --skipEvents 0 --randomSeed 10 --geometryVersion 'ATLAS-GEO-20-00-01' --conditionsTag 'OFLCOND-MC12-SIM-00' --preInclude 'SimulationJobOptions/preInclude.FrozenShowersFCalOnly.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>FrozenShowerFCalOnlyHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/FrozenShowerFCalOnly.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_FrozenShowerFCalOnly.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="FrozenShowerFCalOnly_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>FrozenShowerFCalOnly_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py FrozenShowerFCalOnly</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_CosmicSimTR</chainName>
        <sequential>

          <chainElement>
            <jobTransform userJobId="CosmicSimTR">
              <doc>Running cosmic simulation transform from track records</doc>
              <jobTransformJobName>CosmicSimTR</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNT_COSMICSFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/Cosmics.TR.pool.root' --outputHITSFile 'testCosmics.HITS.pool.root' --maxEvents '-1' --randomSeed '1234' --geometryVersion 'ATLAS-GEO-20-00-01' --conditionsTag 'OFLCOND-MC12-SIM-00' --DataRunNumber '10' --firstEvent '0' --physicsList 'QGSP_BERT' --beamType 'cosmics'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>CosmicSimTR_HITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>testCosmics.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/CosmicSimTR.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>testCosmics.HITS.pool.root_CosmicSimTR.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="CosmicSimTR_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>CosmicSimTR_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py CosmicSimTR</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_SimCheckDBRel</chainName>
        <sequential>

          <chainElement>
            <jobTransform userJobId="SimCheckDBRel">
              <doc>Test simulation job transform with the most recent frozen DB Release</doc>
              <jobTransformJobName>SimCheckDBRel</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/e_E50_eta0-25.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '3' --skipEvents '0' --randomSeed '10' --geometryVersion 'ATLAS-GEO-20-00-01' --conditionsTag 'OFLCOND-MC12-SIM-00' --DBRelease 'current'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>SimCheckDBRel_HITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/SimCheckDBRel.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_SimCheckDBRel.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="SimCheckDBRel_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>SimCheckDBRel_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py SimCheckDBRel</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_LucidSimTes</chainName>
        <sequential>

          <chainElement>
            <jobTransform userJobId="LucidSimTest">
              <doc>Test Main ATLAS+Lucid simulation job transform with the most recent frozen DB Release</doc>
              <jobTransformJobName>LucidSimTest</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/e_E50_eta0-25.evgen.pool.root' --outputHITSFile 'testLucid.HITS.pool.root' --maxEvents '3' --skipEvents '0' --randomSeed '10' --geometryVersion 'ATLAS-GEO-20-00-01' --conditionsTag 'OFLCOND-MC12-SIM-00' --LucidOn 'True' --DBRelease 'current'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>LucidSimTestHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>testLucid.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/LucidSimTest.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>testLucid.HITS.pool.root_LucidSimTest.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="LucidSimTest_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>LucidSimTest_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py LucidSimTest</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_ALFASimTest</chainName>
        <sequential>

          <chainElement>
            <jobTransform userJobId="ALFASimTest">
              <doc>Test Main ATLAS+ALFA simulation job transform with the most recent frozen DB Release</doc>
              <jobTransformJobName>ALFASimTest</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --preInclude 'G4AtlasTests/preInclude.ALFA_SingleParticle.py' --outputHITSFile 'testALFA.HITS.pool.root' --maxEvents '3' --randomSeed '10' --geometryVersion 'ATLAS-GEO-20-00-01' --conditionsTag 'OFLCOND-MC12-SIM-00' --ALFAOn 'True' --DBRelease 'current' --postInclude 'G4AtlasTests/postInclude.ALFA_dcube.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>ALFASimTestHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>testALFA.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/ALFASimTest.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>testALFA.HITS.pool.root_ALFASimTest.HITS.pool.root.diffPool</keepFilePattern>
            </test>
              <test position="2">
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>ALFASimTestDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>18.X.0/dcube-ALFASimTest.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>18.X.0/ALFASimTest.truth.root</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>truth.root</argvalue>
                </arg>
                <keepFilePattern>DCube-18.X.0/ALFASimTest.truth.root/truth.root.dcube.xml.php</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="ALFASimTest_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>ALFASimTest_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py ALFASimTest</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_ZDCSimTest</chainName>
        <sequential>

          <chainElement>
            <jobTransform userJobId="ZDCSimTest">
              <doc>Test Main ATLAS+ZDC simulation job transform with the most recent frozen DB Release</doc>
              <jobTransformJobName>ZDCSimTest</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --preInclude 'G4AtlasTests/preInclude.ZDC_SingleParticle.py' --outputHITSFile 'testZDC.HITS.pool.root' --maxEvents 3 --randomSeed 10 --geometryVersion 'ATLAS-GEO-20-00-01' --conditionsTag 'OFLCOND-MC12-SIM-00' --ZDCOn 'True' --DBRelease 'current' --postInclude 'G4AtlasTests/postInclude.ZDC_dcube.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>medium</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>ZDCSimTestHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>testZDC.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/ZDCSimTest.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>testZDC.HITS.pool.root_ZDCSimTest.HITS.pool.root.diffPool</keepFilePattern>
              </test>
              <test position="2">
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>ZDCSimTestDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>18.X.0/dcube-ZDCSimTest.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>18.X.0/ZDCSimTest.truth.root</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>truth.root</argvalue>
                </arg>
                <keepFilePattern>DCube-18.X.0/ZDCSimTest.truth.root/truth.root.dcube.xml.php</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="ZDCSimTest_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>ZDCSimTest_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py ZDCSimTest</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
              <test position="2">
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>ZDCSimTest_RegDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>18.X.0/dcube-ZDCSimTest.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>yesterday.root</argvalue>
                </arg>
                <arg>
                  <argname>localRefFile</argname>
                  <argvalue>True</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>today.root</argvalue>
                </arg>
                <keepFilePattern>DCube-yesterday.root/today.root.dcube.xml.php</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_AtlasG4_muons</chainName>
        <sequential>

          <chainElement>
            <jobTransform userJobId="AtlasG4_muons">
              <doc>Tests detector functionality using single muons</doc>
 	      <jobTransformJobName>AtlasG4_muons</jobTransformJobName>
	      <jobTransformCmd>AtlasG4_tf.py --preInclude 'SimulationJobOptions/preInclude.SingleMuonGenerator.py' --outputHITSFile 'test.HITS.pool.root' --maxEvents '2000' --randomSeed '10' --geometryVersion 'ATLAS-GEO-20-00-01_VALIDATION' --conditionsTag 'OFLCOND-MC12-SIM-00' --DBRelease 'current' --postInclude 'G4AtlasTests/postInclude.DCubeTest.py' --preExec 'simFlags.ReleaseGeoModel=False;'
	      </jobTransformCmd>
	      <group>SimCoreJobTransformTests</group>
              <queue>medium</queue>

              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>AtlasG4_muonsDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>18.X.0/dcube-AtlasG4_muons.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>18.X.0/AtlasG4_muons.truth.root</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>truth.root</argvalue>
                </arg>
                <keepFilePattern>DCube-18.X.0/AtlasG4_muons.truth.root/truth.root.dcube.xml.php</keepFilePattern>
              </test>
            </jobTransform>
            <chainfileout>test.HITS.pool.root</chainfileout>
          </chainElement>

          <parallel>
            <chainElement>
              <athena userJobId="AtlasG4_muons_noevgen">
                <doc>Tests detector functionality using single muons read from POOL</doc>
                <options>G4AtlasTests/test_AtlasG4_muons_noevgen</options>
                <group>AthenaSimCoreTestJobs</group>
                <queue>short</queue>
                <chaindataset_info>
                  <dc2 />
                  <chaindatasetName>test.HITS.pool.root</chaindatasetName>
                  <dataset_info>
                    <dc2 />
                    <datasetName>/eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/AtlasG4_muons.HITS.pool.root</datasetName>
                  </dataset_info>
                </chaindataset_info>
                <test>
                  <modulename>RttLibraryTools</modulename>
                  <testname>DCubeRunner</testname>
                  <testidentifier>AtlasG4_muons_noevgenDCubeTest</testidentifier>
                  <arg>
                    <argname>DCubeCfg</argname>
                    <argvalue>18.X.0/dcube-AtlasG4_muons_noevgen.xml</argvalue>
                  </arg>
                  <arg>
                    <argname>DCubeRef</argname>
                    <argvalue>truth.root</argvalue>
                  </arg>
                  <arg>
                    <argname>localRefFile</argname>
                    <argvalue>True</argvalue>
                  </arg>
                  <arg>
                    <argname>DCubeMon</argname>
                    <argvalue>truth_2.root</argvalue>
                  </arg>
                  <keepFilePattern>DCube-truth.root/truth_2.root.dcube.xml.php</keepFilePattern>
                </test>
                <testToRemove>
                  <jobGroupName>RTT:Top</jobGroupName>
                  <testidentifier>CheckFileRunner0</testidentifier>
                </testToRemove>
                <testToRemove>
                  <jobGroupName>RTT:Athena</jobGroupName>
                  <testidentifier>Athena_FileGrepper</testidentifier>
                </testToRemove>
                <testToRemove>
                  <jobGroupName>RTT:Athena</jobGroupName>
                  <testidentifier>Athena_FileGrepper1</testidentifier>
                </testToRemove>
              </athena>
            </chainElement>

            <chainElement>
              <jobTransform userJobId="AtlasG4_muons_Reg">
                <doc>Regression test between releases</doc>
                <jobTransformJobName>AtlasG4_muons_Reg</jobTransformJobName>
                <jobTransformCmd>sim_reg_test.py AtlasG4_muons</jobTransformCmd>
                <group>SimCoreTests:SimCoreRegressionTests</group>
                <queue>short</queue>
                <test>
                  <modulename>RttLibraryTools</modulename>
                  <testname>DCubeRunner</testname>
                  <testidentifier>AtlasG4_muons_RegDCubeTest</testidentifier>
                  <arg>
                    <argname>DCubeCfg</argname>
                    <argvalue>18.X.0/dcube-AtlasG4_muons.xml</argvalue>
                  </arg>
                  <arg>
                    <argname>DCubeRef</argname>
                    <argvalue>yesterday.root</argvalue>
                  </arg>
                  <arg>
                    <argname>localRefFile</argname>
                    <argvalue>True</argvalue>
                  </arg>
                  <arg>
                    <argname>DCubeMon</argname>
                    <argvalue>today.root</argvalue>
                  </arg>
                  <keepFilePattern>DCube-yesterday.root/today.root.dcube.xml.php</keepFilePattern>
                </test>
                <testToRemove>
                  <jobGroupName>SimCoreTests:SimCoreRegressionTests</jobGroupName>
                  <testidentifier>HITS_RegressionTestRunner</testidentifier>
                </testToRemove>
              </jobTransform>
            </chainElement>

          </parallel>
        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_AtlasG4_pions</chainName>
        <sequential>

          <chainElement>
            <jobTransform userJobId="AtlasG4_pions">
              <doc>Tests detector functionality using single pions</doc>
 	      <jobTransformJobName>AtlasG4_pions</jobTransformJobName>
	      <jobTransformCmd>AtlasG4_tf.py --preInclude 'SimulationJobOptions/preInclude.SinglePionGenerator.py' --outputHITSFile 'test.HITS.pool.root' --maxEvents '150' --randomSeed '10' --geometryVersion 'ATLAS-GEO-20-00-01_VALIDATION' --conditionsTag 'OFLCOND-MC12-SIM-00' --DBRelease 'current' --postInclude 'G4AtlasTests/postInclude.DCubeTest.py' --preExec 'simFlags.ReleaseGeoModel=False;'
	      </jobTransformCmd>
	      <group>SimCoreJobTransformTests</group>
              <queue>long</queue>

              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>AtlasG4_pionsDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>18.X.0/dcube-AtlasG4_pions.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>18.X.0/AtlasG4_pions.truth.root</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>truth.root</argvalue>
                </arg>
                <keepFilePattern>DCube-18.X.0/AtlasG4_pions.truth.root/truth.root.dcube.xml.php</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="AtlasG4_pions_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>AtlasG4_pions_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py AtlasG4_pions</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
              <test>
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>AtlasG4_pions_RegDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>18.X.0/dcube-AtlasG4_pions.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>yesterday.root</argvalue>
                </arg>
                <arg>
                  <argname>localRefFile</argname>
                  <argvalue>True</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>today.root</argvalue>
                </arg>
                <keepFilePattern>DCube-yesterday.root/today.root.dcube.xml.php</keepFilePattern>
              </test>
              <testToRemove>
                <jobGroupName>SimCoreTests:SimCoreRegressionTests</jobGroupName>
                <testidentifier>HITS_RegressionTestRunner</testidentifier>
              </testToRemove>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_AtlasG4_minbias</chainName>
        <sequential>

          <chainElement>
            <athena userJobId="AtlasG4_minbias">
              <doc>Tests inner detector and beam transformation functionality</doc>
              <commandLineString>--preloadlib=${ATLASMKLLIBDIR_PRELOAD}/libintlc.so.5:${ATLASMKLLIBDIR_PRELOAD}/libimf.so</commandLineString>
              <options>G4AtlasTests/test_AtlasG4_minbias</options>
              <group>AthenaSimCoreTestJobs</group>
              <queue>medium</queue>
              <test>
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>AtlasG4_minbiasDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>18.X.0/dcube-AtlasG4_minbias.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>18.X.0/AtlasG4_minbias.truth.root</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>truth.root</argvalue>
                </arg>
                <keepFilePattern>DCube-18.X.0/AtlasG4_minbias.truth.root/truth.root.dcube.xml.php</keepFilePattern>
              </test>
            </athena>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="AtlasG4_minbias_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>AtlasG4_minbias_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py AtlasG4_minbias</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
              <test>
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>AtlasG4_minbias_RegDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>18.X.0/dcube-AtlasG4_minbias.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>yesterday.root</argvalue>
                </arg>
                <arg>
                  <argname>localRefFile</argname>
                  <argvalue>True</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>today.root</argvalue>
                </arg>
                <keepFilePattern>DCube-yesterday.root/today.root.dcube.xml.php</keepFilePattern>
              </test>
              <testToRemove>
                <jobGroupName>SimCoreTests:SimCoreRegressionTests</jobGroupName>
                <testidentifier>HITS_RegressionTestRunner</testidentifier>
              </testToRemove>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_AtlasG4_electrons</chainName>
        <sequential>

          <chainElement>
            <jobTransform userJobId="AtlasG4_electrons">
              <doc>Tests detector functionality using single electrons</doc>
	      <jobTransformJobName>AtlasG4_electrons</jobTransformJobName>
	      <jobTransformCmd>AtlasG4_tf.py --preInclude 'SimulationJobOptions/preInclude.SingleElectronGenerator.py' --outputHITSFile 'test.HITS.pool.root' --maxEvents '1000' --randomSeed '10' --geometryVersion 'ATLAS-GEO-20-00-01_VALIDATION' --conditionsTag 'OFLCOND-MC12-SIM-00' --DBRelease 'current' --postInclude 'G4AtlasTests/postInclude.DCubeTest.py' --preExec 'simFlags.ReleaseGeoModel=False;'
	      </jobTransformCmd>
	      <group>SimCoreJobTransformTests</group>
              <queue>long</queue>

              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>AtlasG4_electronsDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>18.X.0/dcube-AtlasG4_electrons.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>18.X.0/AtlasG4_electrons.truth.root</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>truth.root</argvalue>
                </arg>
                <keepFilePattern>DCube-18.X.0/AtlasG4_electrons.truth.root/truth.root.dcube.xml.php</keepFilePattern>
              </test>

            </jobTransform>
            <chainfileout>test.HITS.pool.root</chainfileout>
          </chainElement>

          <parallel>

            <chainElement>
              <athena userJobId="AtlasG4_electrons_noevgen">
                <doc>Tests detector functionality using single electrons read from POOL</doc>
                <options>G4AtlasTests/test_AtlasG4_electrons_noevgen</options>
                <group>AthenaSimCoreTestJobs</group>
                <queue>short</queue>
                <chaindataset_info>
                  <dc2 />
                  <chaindatasetName>test.HITS.pool.root</chaindatasetName>
                  <dataset_info>
                    <dc2 />
                    <datasetName>/eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/AtlasG4_electrons.HITS.pool.root</datasetName>
                  </dataset_info>
                </chaindataset_info>
                <test>
                  <modulename>RttLibraryTools</modulename>
                  <testname>DCubeRunner</testname>
                  <testidentifier>AtlasG4_electrons_noevgenDCubeTest</testidentifier>
                  <arg>
                    <argname>DCubeCfg</argname>
                    <argvalue>18.X.0/dcube-AtlasG4_electrons_noevgen.xml</argvalue>
                  </arg>
                  <arg>
                    <argname>DCubeRef</argname>
                    <argvalue>truth.root</argvalue>
                  </arg>
                  <arg>
                    <argname>localRefFile</argname>
                    <argvalue>True</argvalue>
                  </arg>
                  <arg>
                    <argname>DCubeMon</argname>
                    <argvalue>truth_2.root</argvalue>
                  </arg>
                  <keepFilePattern>DCube-truth.root/truth_2.root.dcube.xml.php</keepFilePattern>
                </test>
                <testToRemove>
                  <jobGroupName>RTT:Top</jobGroupName>
                  <testidentifier>CheckFileRunner0</testidentifier>
                </testToRemove>
                <testToRemove>
                  <jobGroupName>RTT:Athena</jobGroupName>
                  <testidentifier>Athena_FileGrepper</testidentifier>
                </testToRemove>
                <testToRemove>
                  <jobGroupName>RTT:Athena</jobGroupName>
                  <testidentifier>Athena_FileGrepper1</testidentifier>
                </testToRemove>
              </athena>
            </chainElement>

            <chainElement>
              <jobTransform userJobId="AtlasG4_electrons_Reg">
                <doc>Regression test between releases</doc>
                <jobTransformJobName>AtlasG4_electrons_Reg</jobTransformJobName>
                <jobTransformCmd>sim_reg_test.py AtlasG4_electrons</jobTransformCmd>
                <group>SimCoreTests:SimCoreRegressionTests</group>
                <queue>short</queue>
                <test>
                  <modulename>RttLibraryTools</modulename>
                  <testname>DCubeRunner</testname>
                  <testidentifier>AtlasG4_electrons_RegDCubeTest</testidentifier>
                  <arg>
                    <argname>DCubeCfg</argname>
                    <argvalue>18.X.0/dcube-AtlasG4_electrons.xml</argvalue>
                  </arg>
                  <arg>
                    <argname>DCubeRef</argname>
                    <argvalue>yesterday.root</argvalue>
                  </arg>
                  <arg>
                    <argname>localRefFile</argname>
                    <argvalue>True</argvalue>
                  </arg>
                  <arg>
                    <argname>DCubeMon</argname>
                    <argvalue>today.root</argvalue>
                  </arg>
                  <keepFilePattern>DCube-yesterday.root/today.root.dcube.xml.php</keepFilePattern>
                </test>
                <testToRemove>
                  <jobGroupName>SimCoreTests:SimCoreRegressionTests</jobGroupName>
                  <testidentifier>HITS_RegressionTestRunner</testidentifier>
                </testToRemove>
              </jobTransform>
            </chainElement>

          </parallel>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_WriteClaHitsTest</chainName>
        <sequential>

          <chainElement>
            <jobTransform userJobId="WriteCalHitsTest">
              <doc>Reading gen events, single particle</doc>
              <jobTransformJobName>WriteCalHitsTest</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/pi_E50_eta0-60.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '10' --skipEvents '0' --randomSeed '10' --geometryVersion 'ATLAS-GEO-20-00-01' --conditionsTag 'OFLCOND-MC12-SIM-00' --preInclude 'SimulationJobOptions/preInclude.CalHits.py,SimulationJobOptions/preInclude.ParticleID.py' --postInclude 'G4AtlasTests/postInclude.DCubeTest_CaloCalibHits.py' --preExec 'simFlags.ReleaseGeoModel=False;'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>WriteCalHitsTestDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>18.X.0/dcube-WriteCalHitsTest.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>18.X.0/WriteCalHitsTest.truth.root</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>truth.root</argvalue>
                </arg>
                <keepFilePattern>DCube-18.X.0/WriteCalHitsTest.truth.root/truth.root.dcube.xml.php</keepFilePattern>
              </test>
              <!--
                  <test position="2">
                  <modulename>RttLibraryTools</modulename>
                  <testname>DiffPoolFilesRunner</testname>
                  <testidentifier>WriteCalHitsTestHITSFileDiff</testidentifier>
                  <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                  </arg>
                  <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/WriteCalHitsTest.HITS.pool.root</argvalue>
                  </arg>
                  </test>
              -->
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="WriteCalHitsTest_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>WriteCalHitsTest_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py WriteCalHitsTest</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
              <test>
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>WriteCalHitsTest_RegDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>18.X.0/dcube-WriteCalHitsTest.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>yesterday.root</argvalue>
                </arg>
                <arg>
                  <argname>localRefFile</argname>
                  <argvalue>True</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>today.root</argvalue>
                </arg>
                <keepFilePattern>DCube-yesterday.root/today.root.dcube.xml.php</keepFilePattern>
              </test>
              <testToRemove>
                <jobGroupName>SimCoreTests:SimCoreRegressionTests</jobGroupName>
                <testidentifier>HITS_RegressionTestRunner</testidentifier>
              </testToRemove>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>


      <!--
           ********************************************************************************
           Section II
           ********************************************************************************
      -->

      <athena userJobId="G4AtlasGeoTest">
        <doc>Recursive geometry test on ATLAS-GEO-20-00-01 (MC12 default). Done only on G4 and GeoModel envelopes</doc>
        <options>G4AtlasTests/test_G4AtlasGeo</options>
        <group>SimCoreTests:SimGeomTestJobs</group>
        <queue>short</queue>
        <testToInvert> <!-- still failing as of March 2013 -->
          <jobGroupName>SimCoreTests:SimGeomTestJobs</jobGroupName>
          <testidentifier>DaughterOvershootGrepper</testidentifier>
        </testToInvert>
        <testToInvert> <!-- still failing as of March 2013 -->
          <jobGroupName>SimCoreTests:SimGeomTestJobs</jobGroupName>
          <testidentifier>SolidProblemGrepper</testidentifier>
        </testToInvert>
      </athena>


      <athena userJobId="G4AtlasGeoTest_latest">
        <doc>Recursive geometry test on ATLAS-GEO-21-00-00. Done only on G4 and GeoModel envelopes</doc>
        <options>G4AtlasTests/test_G4AtlasGeo-21-00-00.py</options>
        <group>SimCoreTests:SimGeomTestJobs</group>
        <queue>short</queue>
        <testToInvert> <!-- still failing as of March 2013 -->
          <jobGroupName>SimCoreTests:SimGeomTestJobs</jobGroupName>
          <testidentifier>SolidProblemGrepper</testidentifier>
        </testToInvert>
      </athena>


      <chain>
        <chainName>RegressionTest_G4AtlasCosmic</chainName>
        <sequential>

          <chainElement>
            <athena userJobId="G4AtlasCosmic">
              <doc>Test with commisioning layouts and cosmic generator</doc>
              <commandLineString>--preloadlib=${ATLASMKLLIBDIR_PRELOAD}/libintlc.so.5:${ATLASMKLLIBDIR_PRELOAD}/libimf.so</commandLineString>
              <options>G4AtlasApps/jobOptions.G4Cosmic.py</options>
              <group>AthenaSimCoreTestJobs</group>
              <queue>short</queue>
            </athena>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="G4AtlasCosmic_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>G4AtlasCosmic_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py G4AtlasCosmic</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>G4AtlasCosmic_RegressionTest</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>today.hits.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>yesterday.hits.pool.root</argvalue>
                </arg>
                <keepFilePattern>today.hits.pool.root_yesterday.hits.pool.root.diffPool</keepFilePattern>
              </test>
              <testToRemove> <!-- NEED TO RENAME OUTPUT FILES IN G4AtlasApps/jobOptions.G4Cosmic.py -->
                <jobGroupName>SimCoreTests:SimCoreRegressionTests</jobGroupName>
                <testidentifier>HITS_RegressionTestRunner</testidentifier>
              </testToRemove>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>
      <!--
           ********************************************************************************
           Section III
           ********************************************************************************
      -->
      <chain>
        <chainName>RegressionTest_SkipEventsTest</chainName>
        <sequential>

          <chainElement>
            <jobTransform userJobId="SkipEventsTest">
              <doc>Reading single particle gen events, checking that the SkipEvents argument works</doc>
              <jobTransformJobName>SkipEvents</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/e_E50_eta0-25.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '10' --skipEvents '5' --randomSeed '10' --geometryVersion 'ATLAS-GEO-20-00-01' --conditionsTag 'OFLCOND-MC12-SIM-00'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>FileGrepper</testname>
                <outputFile>fileGrepper_results.txt</outputFile>
                <testidentifier>SkipFileGrepper</testidentifier>
                <arg>
                  <argname>inputFile</argname>
                  <argvalue>log.AtlasG4Tf</argvalue>
                </arg>
                <arg>
                  <fileGrepperArgs>
                    <fileGrepperSearchPattern>
                      <fileGrepperPattern>skipping event 1.*skipping event 2.*skipping event 3.*skipping event 4.*skipping event 5</fileGrepperPattern>
                      <compileFlags>S</compileFlags>
                    </fileGrepperSearchPattern>
                  </fileGrepperArgs>
                </arg>
                <keepFilePattern>fileGrepper_results.txt</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="SkipEventsTest_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>SkipEventsTest_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py SkipEventsTest</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>
        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_CosmicSim</chainName>
        <sequential>

          <chainElement>
            <jobTransform userJobId="CosmicSim">
              <doc>Running cosmic simulation transform</doc>
              <jobTransformJobName>CosmicSim</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --outputHITSFile 'testCosmics.HITS.pool.root' --maxEvents '1500' --randomSeed '1234' --DataRunNumber '10' --physicsList 'QGSP_BERT' --CosmicFilterVolume 'Calo' --CosmicFilterVolume2 'NONE' --geometryVersion 'ATLAS-GEO-20-00-01' --conditionsTag 'OFLCOND-MC12-SIM-00' --CosmicPtSlice 'NONE' --outputEVNT_COSMICSTRFile 'testCosmics.TR.pool.root' --beamType 'cosmics'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>CosmicSimHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>testCosmics.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/CosmicSim.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>testCosmics.HITS.pool.root_CosmicSim.HITS.pool.root.diffPool</keepFilePattern>
              </test>
              <test position="2">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>CosmicSimTrackRecordFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>testCosmics.TR.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/18.X.0/CosmicSim.TR.pool.root</argvalue>
                </arg>
                <keepFilePattern>testCosmics.TR.pool.root_CosmicSim.TR.pool.root.diffPool</keepFilePattern>
              </test>
              <testToRemove>
                <jobGroupName>SimCoreTests:SimCoreJobTransformTests</jobGroupName>
                <testidentifier>AbortedEventGrepper</testidentifier>
              </testToRemove>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="CosmicSim_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>CosmicSim_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py CosmicSim</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
              <test position="2">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>CosmicSim_RegTrackRecordRegressionTestRunner</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>today.TR.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>yesterday.TR.pool.root</argvalue>
                </arg>
                <keepFilePattern>today.TR.pool.root_yesterday.TR.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>
    </jobList>

    <jobGroups>
      <jobGroup name="AthenaSimCoreTestJobs" parent="RTT:Athena">
        <keepFilePattern>*.ps</keepFilePattern>
        <keepFilePattern>*.root</keepFilePattern>
        <keepFilePattern>*.txt</keepFilePattern>
        <keepFilePattern>*.log</keepFilePattern>
        <keepFilePattern>*.diffPool</keepFilePattern>
        <keepFilePattern>G4InitStats.out</keepFilePattern>
        <keepFilePattern>memorytest.out</keepFilePattern>
        <keepFilePattern>GeoModelStatistics</keepFilePattern>
        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>G4ExceptionGrepper_results.txt</outputFile>
          <testidentifier>G4ExceptionGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>*_log</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>

              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>G4Exception((?!(PART102|StuckTrack)).)*$
                </fileGrepperPattern>
              </fileGrepperVetoPattern>

            </fileGrepperArgs>
          </arg>
          <keepFilePattern>G4ExceptionGrepper_results.txt</keepFilePattern>
        </test>
        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>StuckTrackGrepper_results.txt</outputFile>
          <testidentifier>StuckTrackGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>*_log</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>G4Exception : StuckTrack</fileGrepperPattern>
                <compileFlags>S</compileFlags>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>StuckTrackGrepper_results.txt</keepFilePattern>
        </test>
        <test> <!-- Special Test for CSCspacer Stuck Track G4Exceptions should remove once it starts failing.. -->
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>CSCspacerStuckTrackGrepper_results.txt</outputFile>
          <testidentifier>CSCspacerStuckTrackGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>*_log</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
                    <!-- veto pattern block -->
                    <fileGrepperVetoPattern>
                <!-- This looks for StuckTrack that is not due to a CSCspacer -->
                <fileGrepperPattern>\*\*\* G4Exception : StuckTrack(?!([^\n]*\n){4}([^\n]*?)CSCspacer)</fileGrepperPattern>
                <compileFlags>S</compileFlags>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>CSCspacerStuckTrackGrepper_results.txt</keepFilePattern>
        </test>
        <test> <!-- Special Test for uninitialized random stream seeds should remove once it starts failing.. -->
           <modulename>RttLibraryTools</modulename>
           <testname>FileGrepper</testname>
           <outputFile>DefaultSeedsGrepper_results.txt</outputFile>
           <testidentifier>DefaultSeedsGrepper</testidentifier>
           <arg>
             <argname>inputFile</argname>
             <argvalue>*_log</argvalue>
           </arg>
           <arg>
             <fileGrepperArgs>
               <!-- veto pattern block -->
               <fileGrepperVetoPattern>
                 <fileGrepperPattern>DEFAULT seeds</fileGrepperPattern>
                 <compileFlags>S</compileFlags>
               </fileGrepperVetoPattern>
             </fileGrepperArgs>
           </arg>
           <keepFilePattern>DefaultSeedsGrepper_results.txt</keepFilePattern>
         </test>
         <test> <!-- Special Test for StrangePDG G4Exceptions should remove once it starts failing.. -->
           <modulename>RttLibraryTools</modulename>
           <testname>FileGrepper</testname>
           <outputFile>StrangePDGGrepper_results.txt</outputFile>
           <testidentifier>StrangePDGGrepper</testidentifier>
           <arg>
             <argname>inputFile</argname>
             <argvalue>*_log</argvalue>
           </arg>
           <arg>
             <fileGrepperArgs>
               <!-- veto pattern block -->
               <fileGrepperVetoPattern>
                 <fileGrepperPattern>G4Exception : PART102</fileGrepperPattern>
                 <compileFlags>S</compileFlags>
               </fileGrepperVetoPattern>
             </fileGrepperArgs>
           </arg>
           <keepFilePattern>StrangePDGGrepper_results.txt</keepFilePattern>
         </test>
      </jobGroup>

      <jobGroup name="SimGeomTestJobs" parent="RTT:Athena">
        <keepFilePattern>*.ps</keepFilePattern>
        <keepFilePattern>*.root</keepFilePattern>
        <keepFilePattern>*.txt</keepFilePattern>
        <keepFilePattern>*.log</keepFilePattern>
        <keepFilePattern>*.diffPool</keepFilePattern>
        <keepFilePattern>G4InitStats.out</keepFilePattern>
        <keepFilePattern>memorytest.out</keepFilePattern>
        <keepFilePattern>GeoModelStatistics</keepFilePattern>
        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>CodeZeroGrepper_results.txt</outputFile>
          <testidentifier>CodeZeroGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>G4AtlasGeo*_log</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- search pattern block -->
              <fileGrepperSearchPattern>
                <fileGrepperPattern>leaving with code 0</fileGrepperPattern>
              </fileGrepperSearchPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>CodeZeroGrepper_results.txt</keepFilePattern>
        </test>

        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>OtherGeoErrorGrepper_results.txt</outputFile>
          <testidentifier>OtherGeoErrorGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>G4AtlasGeo*_log</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>GeomTest Error((?!(Overlapping daughter volumes|Overshooting daughter volume|SolidProblem)).)*$</fileGrepperPattern>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>OtherGeoErrorGrepper_results.txt</keepFilePattern>
        </test>

        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>DaughterOverlapGrepper_results.txt</outputFile>
          <testidentifier>DaughterOverlapGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>G4AtlasGeo*_log</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>GeomTest Error: Overlapping daughter volumes</fileGrepperPattern>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>DaughterOverlapGrepper_results.txt</keepFilePattern>
        </test>

        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>DaughterOvershootGrepper_results.txt</outputFile>
          <testidentifier>DaughterOvershootGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>G4AtlasGeo*_log</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>GeomTest Error: Overshooting daughter volume</fileGrepperPattern>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>DaughterOvershootGrepper_results.txt</keepFilePattern>
        </test>

        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>SolidProblemGrepper_results.txt</outputFile>
          <testidentifier>SolidProblemGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>G4AtlasGeo*_log</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>GeomTest Error: SolidProblem</fileGrepperPattern>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>SolidProblemGrepper_results.txt</keepFilePattern>
        </test>

        <testToRemove>
          <jobGroupName>SimCoreTests:AthenaSimCoreTestJobs</jobGroupName>
          <testidentifier>G4ExceptionGrepper</testidentifier>
        </testToRemove>

        <testToRemove>
          <jobGroupName>SimCoreTests:AthenaSimCoreTestJobs</jobGroupName>
          <testidentifier>DefaultSeedsGrepper</testidentifier>
        </testToRemove>

        <testToRemove>
          <jobGroupName>SimCoreTests:AthenaSimCoreTestJobs</jobGroupName>
          <testidentifier>StrangePDGGrepper</testidentifier>
        </testToRemove>

        <testToRemove>
          <jobGroupName>RTT:Top</jobGroupName>
          <testidentifier>CheckFileRunner0</testidentifier>
        </testToRemove>

      </jobGroup>

      <jobGroup name="SimCoreJobTransformTests" parent="RTT:Top">
        <keepFilePattern>*.root</keepFilePattern>
        <keepFilePattern>*.txt</keepFilePattern>
        <keepFilePattern>*.out</keepFilePattern>
        <keepFilePattern>*.html</keepFilePattern>
        <keepFilePattern>prof/*.html</keepFilePattern>
        <keepFilePattern>*.php</keepFilePattern>
        <keepFilePattern>log*</keepFilePattern>
        <keepFilePattern>*log</keepFilePattern>
        <keepFilePattern>*.diffPool</keepFilePattern>
        <keepFilePattern>test.athena.profile</keepFilePattern>
        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>G4ExceptionGrepper_results.txt</outputFile>
          <testidentifier>G4ExceptionGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>log.AtlasG4Tf</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>G4Exception((?!(PART102|StuckTrack)).)*$
                </fileGrepperPattern>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>G4ExceptionGrepper_results.txt</keepFilePattern>
        </test>
        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>StuckTrackGrepper_results.txt</outputFile>
          <testidentifier>StuckTrackGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>log.AtlasG4Tf</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>G4Exception : StuckTrack</fileGrepperPattern>
                <compileFlags>S</compileFlags>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>StuckTrackGrepper_results.txt</keepFilePattern>
        </test>
        <test> <!-- Special Test for CSCspacer Stuck Track G4Exceptions should remove once it starts failing.. -->
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>CSCspacerStuckTrackGrepper_results.txt</outputFile>
          <testidentifier>CSCspacerStuckTrackGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>log.AtlasG4Tf</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
                    <!-- veto pattern block -->
                    <fileGrepperVetoPattern>
                <!-- This looks for StuckTrack that is not due to a CSCspacer -->
                <fileGrepperPattern>\*\*\* G4Exception : StuckTrack(?!([^\n]*\n){4}([^\n]*?)CSCspacer)</fileGrepperPattern>
                <compileFlags>S</compileFlags>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>CSCspacerStuckTrackGrepper_results.txt</keepFilePattern>
        </test>
        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>AbortedEventGrepper_results.txt</outputFile>
          <testidentifier>AbortedEventGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>log.AtlasG4Tf</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>Event was aborted
                </fileGrepperPattern>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>AbortedEventGrepper_results.txt</keepFilePattern>
        </test>
        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>jobGroupFileGrepper_results.txt</outputFile>
          <testidentifier>FileGrepperA</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>log.AtlasG4Tf</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- search pattern block -->
              <fileGrepperSearchPattern>
                <fileGrepperPattern>leaving with code 0</fileGrepperPattern>
              </fileGrepperSearchPattern>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>(segmentation violation|bus error)
                </fileGrepperPattern>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>jobGroupFileGrepper_results.txt</keepFilePattern>
        </test>
        <test> <!-- Special Test for uninitialized random stream seeds should remove once it starts failing.. -->
           <modulename>RttLibraryTools</modulename>
           <testname>FileGrepper</testname>
           <outputFile>DefaultSeedsGrepper_results.txt</outputFile>
           <testidentifier>DefaultSeedsGrepper</testidentifier>
           <arg>
             <argname>inputFile</argname>
             <argvalue>log.AtlasG4Tf</argvalue>
           </arg>
           <arg>
             <fileGrepperArgs>
               <!-- veto pattern block -->
               <fileGrepperVetoPattern>
                 <fileGrepperPattern>DEFAULT seeds</fileGrepperPattern>
                 <compileFlags>S</compileFlags>
               </fileGrepperVetoPattern>
             </fileGrepperArgs>
           </arg>
           <keepFilePattern>DefaultSeedsGrepper_results.txt</keepFilePattern>
         </test>
         <test> <!-- Special Test for StrangePDG G4Exceptions should remove once it starts failing.. -->
           <modulename>RttLibraryTools</modulename>
           <testname>FileGrepper</testname>
           <outputFile>StrangePDGGrepper_results.txt</outputFile>
           <testidentifier>StrangePDGGrepper</testidentifier>
           <arg>
             <argname>inputFile</argname>
             <argvalue>log.AtlasG4Tf</argvalue>
           </arg>
           <arg>
             <fileGrepperArgs>
               <!-- veto pattern block -->
               <fileGrepperVetoPattern>
                 <fileGrepperPattern>G4Exception : PART102</fileGrepperPattern>
                 <compileFlags>S</compileFlags>
               </fileGrepperVetoPattern>
             </fileGrepperArgs>
           </arg>
           <keepFilePattern>StrangePDGGrepper_results.txt</keepFilePattern>
         </test>
      </jobGroup>
      <jobGroup name="SimCoreRegressionTests" parent="RTT:Top">
        <keepFilePattern>*.root</keepFilePattern>
        <keepFilePattern>*.txt</keepFilePattern>
        <keepFilePattern>*.out</keepFilePattern>
        <keepFilePattern>*.html</keepFilePattern>
        <keepFilePattern>prof/*.html</keepFilePattern>
        <keepFilePattern>*.php</keepFilePattern>
        <keepFilePattern>*log</keepFilePattern>
        <keepFilePattern>*.diffPool</keepFilePattern>
        <keepFilePattern>test.athena.profile</keepFilePattern>
        <test position="1">
          <modulename>RttLibraryTools</modulename>
          <testname>DiffPoolFilesRunner</testname>
          <testidentifier>HITS_RegressionTestRunner</testidentifier>
          <arg>
            <argname>fileName</argname>
            <argvalue>today.HITS.pool.root</argvalue>
          </arg>
          <arg>
            <argname>refFileName</argname>
            <argvalue>yesterday.HITS.pool.root</argvalue>
          </arg>
          <keepFilePattern>today.HITS.pool.root_yesterday.HITS.pool.root.diffPool</keepFilePattern>
        </test>
        <testToRemove>
          <jobGroupName>RTT:Top</jobGroupName>
          <testidentifier>CheckFileRunner0</testidentifier>
        </testToRemove>
      </jobGroup>
    </jobGroups>

  </rtt>

</unifiedTestConfiguration>
