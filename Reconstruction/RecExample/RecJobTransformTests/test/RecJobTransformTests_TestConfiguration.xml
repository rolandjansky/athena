<?xml version="1.0"?>
<!DOCTYPE unifiedTestConfiguration SYSTEM "http://www.hep.ucl.ac.uk/atlas/AtlasTesting/DTD/unifiedTestConfiguration.dtd">

<unifiedTestConfiguration>
  <atn>
    
    <!-- ++++++++++++++++++++++++++ Running on Simulated Data  +++++++++++++++++++++++++++++++++++++++++++++ -->
    
    <!-- Nothing -->

    <!-- AODFix on 20.7 AOD (AOD to TAG) -->
    <TEST name="AODFix_aod_to_tag" type="script" suite="reco_tf">
      <options_atn>
        export TRF_ECHO=True; Reco_tf.py '--preExec=rec.doApplyAODFix.set_Value_and_Lock(True);from BTagging.BTaggingFlags import BTaggingFlags;BTaggingFlags.CalibrationTag = "BTagCalibRUN12-08-18" ' '--maxEvents=5' '--inputAODFile=root://eosatlas//eos/atlas/user/m/mdobre/forRTTmc15/MC15_207.AOD.pool.root' '--outputTAGFile=TAG.root'
      </options_atn>
      <timelimit>30</timelimit>	
      <author>Jovan Mitrevski</author>
      <prescript>rm -f $ATN_WORK_AREA/*</prescript>
      <expectations>
        <errorMessage>FAILURE </errorMessage>
        <returnValue>0</returnValue>
      </expectations>
    </TEST>


    <!-- DC14 type digitization and reconstruction of 8 TeV MC with pileup -->
    <TEST name="RECOSHIFT_RecoTf_DC14_8TeV_pileup" type="script" suite="reco_trf">
      <options_atn>
	export TRF_ECHO=True; Reco_tf.py --DBRelease="current" --autoConfiguration="everything" --conditionsTag="OFLCOND-RUN12-SDR-25" --digiSeedOffset1="1" --digiSeedOffset2="1" --geometryVersion="ATLAS-R1-2012-02-00-00" --jobNumber 1 --maxEvents 5 --numberOfHighPtMinBias="0.055936" --numberOfLowPtMinBias="39.9444" --postExec "CfgMgr.MessageSvc().setError+=[\"HepMcParticleLink\"]" "HITtoRDO:job.StandardPileUpToolsAlg.PileUpTools[\"MergeMcEventCollTool\"].OnlySaveSignalTruth=True" --postInclude="RecJobTransforms/UseFrontier.py" --preExec "rec.doTrigger.set_Value_and_Lock(False);rec.Commissioning.set_Value_and_Lock(True);jobproperties.Beam.numberOfCollisions.set_Value_and_Lock(20.0)" "HITtoRDO:from LArROD.LArRODFlags import larRODFlags;larRODFlags.doOFCPileupOptimization.set_Value_and_Lock(True);larRODFlags.NumberOfCollisions.set_Value_and_Lock(20);larRODFlags.UseDelta.set_Value_and_Lock(3)" "RAWtoESD:from LArROD.LArRODFlags import larRODFlags;larRODFlags.doOFCPileupOptimization.set_Value_and_Lock(True);larRODFlags.UseDelta.set_Value_and_Lock(3);from CaloRec.CaloCellFlags import jobproperties;jobproperties.CaloCellFlags.doLArCellEmMisCalib=False" "ESDtoAOD:TriggerFlags.AODEDMSet=\"AODFULL\"" --preInclude HITtoRDO:Digitization/ForceUseOfPileUpTools.py,SimulationJobOptions/preInclude.PileUpBunchTrains2011Config8_DigitConfig.py,RunDependentSimData/configLumi_mc14_2012_v1.py --skipEvents="0" --inputHITSFile="/afs/cern.ch/atlas/project/rig/referencefiles/RTTinputFiles/8TeV/valid1.105200.McAtNloJimmy_CT10_ttbar_LeptonFilter.simul.HITS.e1574_s2039_tid01566078_00/HITS.01566078._000483.pool.root.1" --inputLowPtMinbiasHitsFile="/afs/cern.ch/user/p/physval/validafs/disk2/mc14_8TeV.119995.Pythia8_A2MSTW2008LO_minbias_inelastic_low.merge.HITS.e1119_s1896_s1903_tid01415612_00/HITS.01415612._[000005,000006,000007,000008].pool.root" --inputHighPtMinbiasHitsFile="/afs/cern.ch/user/p/physval/validafs/disk2/mc14_8TeV.119996.Pythia8_A2MSTW2008LO_minbias_inelastic_high.merge.HITS.e1119_s1896_s1903_tid01415616_00/HITS.01415616._[000005,000006,000007,000008].pool.root" --outputAODFile="AOD.pool.root" --outputESDFile="ESD.pool.root" --outputRDOFile="RDO.pool.root"
	</options_atn>
      <timelimit>30</timelimit>	
      <author>Mark Hodgkinson and Carl Gwilliam</author>
      <prescript>rm -f $ATN_WORK_AREA/*</prescript>
      <expectations>
	<errorMessage>FAILURE </errorMessage>
	<returnValue>0</returnValue>
      </expectations>
    </TEST>
    
    <!-- DC14 type digitization and reconstruction of 13 TeV MC without pileup -->
    <TEST name="RECOSHIFT_Reco_MC15_13TeV_nopileup" type="script" suite="reco_tf">
      <options_atn>
	  export TRF_ECHO=True; Reco_tf.py '--inputHITSFile=/afs/cern.ch/atlas/project/rig/referencefiles/MC/valid1.110401.PowhegPythia_P2012_ttbar_nonallhad.e3099_s2578/HITS.04919495._000958.pool.root.1' '--AMITag=r6193' '--DBRelease=current' '--DataRunNumber=222525' '--autoConfiguration=everything' '--conditionsTag=OFLCOND-RUN12-SDR-25' '--digiSeedOffset1=1' '--digiSeedOffset2=1' '--geometryVersion=ATLAS-R2-2015-03-01-00' '--jobNumber=1' '--maxEvents=5' '--numberOfCavernBkg=0' '--outputAODFile=AOD.pool.root' '--outputRDOFile=RDO.pool.root' '--outputESDFile=ESD.pool.root' '--postExec' 'RAWtoESD:from AthenaCommon.AlgSequence import AlgSequence;AlgSequence().LVL1TGCTrigger.TILEMU=True;from IOVDbSvc.CondDB import conddb; conddb.addOverride("/PIXEL/PixelClustering/PixelClusNNCalib","PixelClusNNCalib-SIM-RUN12-000-02")' '--postInclude=RecJobTransforms/UseFrontier.py' '--preExec' 'rec.Commissioning.set_Value_and_Lock(True);rec.doTrigger.set_Value_and_Lock(True);from AthenaCommon.BeamFlags import jobproperties;jobproperties.Beam.numberOfCollisions.set_Value_and_Lock(0.);from LArROD.LArRODFlags import larRODFlags;larRODFlags.nSamples.set_Value_and_Lock(4)' 'HITtoRDO:from Digitization.DigitizationFlags import digitizationFlags;digitizationFlags.overrideMetadata+=["SimLayout","PhysicsList"]' 'RAWtoESD:from TriggerJobOpts.TriggerFlags import TriggerFlags;TriggerFlags.triggerMenuSetup="MC_pp_v5_loose_mc_prescale";from CaloRec.CaloCellFlags import jobproperties;jobproperties.CaloCellFlags.doLArCellEmMisCalib=False' 'ESDtoAOD:TriggerFlags.AODEDMSet="AODFULL"' '--runNumber=110401' '--skipEvents=0'
	</options_atn>
      <timelimit>30</timelimit>	
      <author>Xiaohu Sun, Carl Gwilliam and Marie-Helene Genest</author>
      <prescript>rm -f $ATN_WORK_AREA/*</prescript>
      <expectations>
	<errorMessage>FAILURE </errorMessage>
	<returnValue>0</returnValue>
      </expectations>
    </TEST>
    
    <!-- MC15 type digitization and reconstruction of 13 TeV MC with pileup -->
    <TEST name="RECOSHIFT_Reco_MC15_13TeV" type="script" suite="reco_tf">
      <options_atn>
	  export TRF_ECHO=True; Reco_tf.py --inputHITSFile="/afs/cern.ch/atlas/project/rig/referencefiles/RTTinputFiles/MC15_13TeV/valid1.110401.PowhegPythia_P2012_ttbar_nonallhad.simul.HITS.e3099_s2578_tid04919495_00/HITS.04919495._[000416,000417,000418,000419,000420].pool.root" --AMITag="r6594" --autoConfiguration="everything" --conditionsTag "default:OFLCOND-RUN12-SDR-28" --digiSeedOffset1="64" --digiSeedOffset2="64" --geometryVersion="default:ATLAS-R2-2015-03-01-00" --inputHighPtMinbiasHitsFile="/afs/cern.ch/atlas/project/rig/referencefiles/RTTinputFiles/MC15_13TeV/mc15_valid.361035.Pythia8EvtGen_A2MSTW2008LO_minbias_inelastic_high.merge.HITS.e3581_s2578_s2169_tid05098387_00/HITS.05098387._[002354,002355,002356,002357,002358,002359,002360,002361,002370,002371,002372,002373,002374,002375,002376,002377,002378,002379,002380,002381,002387,002388,002389,002390,002391].pool.root" --inputLowPtMinbiasHitsFile="/afs/cern.ch/atlas/project/rig/referencefiles/RTTinputFiles/MC15_13TeV/mc15_valid.361034.Pythia8EvtGen_A2MSTW2008LO_minbias_inelastic_low.merge.HITS.e3581_s2578_s2169_tid05098374_00/HITS.05098374._[002102,002103,002104,002105,002106,002107,002108,002109,002110,002111,002112,002113,002114,002115,002116,002117,002118,002119,002120,002121,002122,002123,002124,002125,002126].pool.root" --jobNumber="64" --maxEvents="10" --numberOfCavernBkg="0" --numberOfHighPtMinBias="0.12268057" --numberOfLowPtMinBias="39.8773194" --outputAODFile="AOD_13TeV_PhysVal.pool.root" --outputESDFile="ESD.pool.root" --outputRDOFile="RDO.pool.root" --postExec "all:CfgMgr.MessageSvc().setError+=[\"HepMcParticleLink\"]" "HITtoRDO:job.StandardPileUpToolsAlg.PileUpTools[\"MergeMcEventCollTool\"].OnlySaveSignalTruth=True" "RAWtoESD:ToolSvc.LArAutoCorrTotalToolDefault.deltaBunch="1"" "HITtoRDO:ToolSvc.LArAutoCorrTotalToolDefault.deltaBunch=1" --postInclude "default:RecJobTransforms/UseFrontier.py" --preExec "all:rec.Commissioning.set_Value_and_Lock(True);rec.doTrigger.set_Value_and_Lock(True);from AthenaCommon.BeamFlags import jobproperties;jobproperties.Beam.numberOfCollisions.set_Value_and_Lock(20.0);from LArROD.LArRODFlags import larRODFlags;larRODFlags.NumberOfCollisions.set_Value_and_Lock(20);larRODFlags.nSamples.set_Value_and_Lock(4);larRODFlags.doOFCPileupOptimization.set_Value_and_Lock(True);larRODFlags.firstSample.set_Value_and_Lock(0);larRODFlags.useHighestGainAutoCorr.set_Value_and_Lock(True)" "RAWtoESD:from TriggerJobOpts.TriggerFlags import TriggerFlags;TriggerFlags.triggerMenuSetup=\"MC_pp_v5_loose_mc_prescale\";from CaloRec.CaloCellFlags import jobproperties;jobproperties.CaloCellFlags.doLArCellEmMisCalib=False" "ESDtoAOD:TriggerFlags.AODEDMSet=\"AODFULL\"" "RDOtoRDOTrigger:from TriggerJobOpts.TriggerFlags import TriggerFlags;TriggerFlags.triggerMenuSetup=\"MC_pp_v5_loose_mc_prescale\";" "HITtoRDO:from AthenaCommon.BeamFlags import jobproperties;jobproperties.Beam.bunchSpacing.set_Value_and_Lock(50);" --preInclude "HITtoRDO:Digitization/ForceUseOfPileUpTools.py,SimulationJobOptions/preInclude.PileUpBunchTrainsMC15_2015_50ns_Config1.py,RunDependentSimData/configLumi_run222510.py" "RDOtoRDOTrigger:RecExPers/RecoOutputMetadataList_jobOptions.py" --runNumber="110401" --skipEvents="0" --steering "RAWtoESD:in-RDO,in+RDO_TRIG,in-BS" --pileupFinalBunch 6 
	</options_atn>
      <timelimit>30</timelimit>	
      <author>Xiaohu Sun, Carl Gwilliam and Marie-Helene Genest</author>
      <prescript>rm -f $ATN_WORK_AREA/*</prescript>
      <expectations>
	<errorMessage>FAILURE </errorMessage>
	<returnValue>0</returnValue>
      </expectations>
    </TEST>

    <!-- MC15 type digitization and reconstruction of 13 TeV MC with pileup -->
    <TEST name="RECOSHIFT_Reco_MC15_13TeV_r7226" type="script" suite="reco_tf">
      <options_atn>
	  export TRF_ECHO=True; 'Reco_tf.py' '--AMI=r7226' '--inputHITSFile=/afs/cern.ch/atlas/project/rig/referencefiles/RTTinputFiles/MC15_13TeV/valid1.147913.Pythia8_AU2CT10_jetjet_JZ3W.simul.HITS.e3099_s2578_tid04919481_00/HITS.04919481._001796.pool.root.1' '--inputLowPtMinbiasHitsFile=/afs/cern.ch/atlas/project/rig/referencefiles/RTTinputFiles/MC15_13TeV/mc15_valid.361034.Pythia8EvtGen_A2MSTW2008LO_minbias_inelastic_low.merge.HITS.e3581_s2578_s2169_tid05098374_00/HITS.05098374._001001.pool.root.1' '--inputHighPtMinbiasHitsFile=/afs/cern.ch/atlas/project/rig/referencefiles/RTTinputFiles/MC15_13TeV/mc15_valid.361035.Pythia8EvtGen_A2MSTW2008LO_minbias_inelastic_high.merge.HITS.e3581_s2578_s2169_tid05098387_00/HITS.05098387._000655.pool.root.1' '--outputAODFile=myAOD.pool.root' '--outputRDOFile=tmp.RDO.pool.root' '--jobNumber=12345' '--maxEvents=10'
	</options_atn>
      <timelimit>30</timelimit>	
      <author>Xiaohu Sun and Mark Hodgkinson</author>
      <prescript>rm -f $ATN_WORK_AREA/*</prescript>
      <expectations>
	<errorMessage>FAILURE </errorMessage>
	<returnValue>0</returnValue>
      </expectations>
    </TEST>
    

    
    <!-- XS: please change to MC15: MC15 type reconstruction of 13 TeV MC, all reco and trigger switched off -->
    <TEST name="RecoTf_MC12_no" type="script" suite="reco_tf">
      <options_atn>
        export TRF_ECHO=True; Reco_tf.py --inputRDOFile root://eosatlas//eos/atlas/atlascerngroupdisk/phys-rig/pileupSamples/mc12_8TeV.105200.McAtNloJimmy_CT10_ttbar_LeptonFilter.digit.RDO.e1513_s1499_s1504_d700/RDO.01177879._000001.pool.root.1 --maxEvents 5 --autoConfiguration everything --preExec 'rec.doDetailedAuditor=True' 'rec.doNameAuditor=True' 'rec.doCalo=False' 'rec.doInDet=False' 'rec.doMuon=False' 'rec.doJetMissingETTag=False' 'rec.doEgamma=False' 'rec.doMuonCombined=False' 'rec.doTau=False' 'rec.doTrigger=False' --outputESDFile my.ESD.pool.root
      </options_atn>
      <author>David Rousseau</author>
      <prescript>rm -f $ATN_WORK_AREA/*</prescript>
      <expectations>
	<errorMessage>FAILURE </errorMessage>
	<returnValue>0</returnValue>
      </expectations>
    </TEST>

    <!-- XS: please change to MC15: MC15 type reconstruction of 13 TeV MC -->
    <TEST name="RecoTf_MC12" type="script" suite="reco_tf">
      <options_atn>
        export TRF_ECHO=True; Reco_tf.py --inputRDOFile root://eosatlas//eos/atlas/atlascerngroupdisk/phys-rig/pileupSamples/mc12_8TeV.105200.McAtNloJimmy_CT10_ttbar_LeptonFilter.digit.RDO.e1513_s1499_s1504_d700/RDO.01177879._000001.pool.root.1 --maxEvents 5 --autoConfiguration everything --preExec 'rec.doDetailedAuditor=True' 'rec.doNameAuditor=True' --outputESDFile my.ESD.pool.root
      </options_atn>
      <author>David Rousseau</author>
      <prescript>rm -f $ATN_WORK_AREA/*</prescript>
      <expectations>
	<errorMessage>FAILURE </errorMessage>
	<returnValue>0</returnValue>
      </expectations>
    </TEST>
    
    <!-- ++++++++++++++++++++++++++ Running on Cosmics Data  +++++++++++++++++++++++++++++++++++++++++++++ -->
    
    <!-- XS: please update with new 2015 cosmics file: cosmics 2015 reconstruction -->
    <TEST name="RecoTf_cosmic_data" type="script" suite="Reco_tf">
      <options_atn>
	export TRF_ECHO=True; Reco_tf.py --inputBSFile /afs/cern.ch/atlas/project/rig/data/data11_cos.00193024.physics_CosmicCalo.merge.RAW/data11_cos.00193024.physics_CosmicCalo.merge.RAW._lb0096._SFO-ALL._0001.1 --maxEvents 10 --autoConfiguration everything --outputESDFile myESD.pool.root --outputAODFile myAOD.pool.root --outputHISTFile myHIST.root --preExec 'rec.doDetailedAuditor=True' 'rec.doNameAuditor=True' 
      </options_atn>
      <timelimit>60</timelimit>
      <author>Jamie Boyd</author>
      <prescript>rm -f $ATN_WORK_AREA/*</prescript>
      <expectations>
	<errorMessage>FAILURE </errorMessage>
	<returnValue>0</returnValue>
      </expectations>
    </TEST>
    
    <!-- ++++++++++++++++++++++++++ Running on highmu Data  +++++++++++++++++++++++++++++++++++++++++++++ -->
    
    <!-- ++++++++++++++++++++++++++ Running on 7TeV collision data  +++++++++++++++++++++++++++++++++++++++++++++ -->
    
    <!-- data11_7TeV reconstruction -->
    <TEST name="RECOSHIFT_RecoTf_7TeV_data" type="script" suite="Reco_tf">
      <options_atn> 	
      export TRF_ECHO=True; Reco_tf.py --inputBSFile /afs/cern.ch/atlas/project/rig/referencefiles/dataStreams_high_mu/high_mu-data11_7TeV.00179725.physics_JetTauEtmiss.merge.RAW._lb0021.data --autoConfiguration everything --conditionsTag="COMCOND-BLKPA-RUN1-07" --maxEvents 5 --outputESDFile myESD.pool.root --outputAODFile myAOD.pool.root --outputTAGFile myTAG.pool.root --outputHISTFile myHist.root --preExec 'rec.doDetailedAuditor=True' 'rec.doNameAuditor=True' 'rec.doTrigger=False'
      </options_atn>
      <timelimit>60</timelimit>
      <author>Jamie Boyd</author>
      <prescript>rm -f $ATN_WORK_AREA/*</prescript>
      <expectations>
	<errorMessage>FAILURE </errorMessage>
	<returnValue>0</returnValue>
      </expectations>
    </TEST>
    
    <!-- ++++++++++++++++++++++++++ Running on 8TeV collision data  +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- data12_8TeV reconstruction, all reco switched off -->
    <TEST name="Reco_tf_8TeV_data_no" type="script" suite="reco_trf">
      <options_atn>        
      export TRF_ECHO=True; Reco_tf.py --inputBSFile /afs/cern.ch/atlas/project/rig/referencefiles/dataStreams_high_mu/data12_8TeV/data12_8TeV.00209109.physics_JetTauEtmiss.merge.RAW._lb0186._SFO-1._0001.1 --maxEvents 5 --autoConfiguration everything --preExec 'rec.doCalo=False' 'rec.doInDet=False' 'rec.doMuon=False' 'rec.doJetMissingETTag=False' 'rec.doEgamma=False' 'rec.doMuonCombined=False' 'rec.doTau=False' 'rec.doTrigger=False' 'rec.doDetailedAuditor=True' 'rec.doNameAuditor=True' --outputESDFile my.ESD.pool.root  
      </options_atn>
      <timelimit>30</timelimit>
      <author>David Rousseau</author>
      <prescript>rm -f $ATN_WORK_AREA/*</prescript>
      <expectations>
	<errorMessage>FAILURE </errorMessage>
	<returnValue>0</returnValue>
      </expectations>
    </TEST>
    
    <!-- data12_8TeV reconstruction -->
    <TEST name="RECOSHIFT_RecoTf_8TeV_data" type="script" suite="Reco_tf">
      <options_atn>
	export TRF_ECHO=True; Reco_tf.py --inputBSFile /afs/cern.ch/atlas/project/rig/referencefiles/dataStreams_high_mu/data12_8TeV/data12_8TeV.00209109.physics_JetTauEtmiss.merge.RAW._lb0186._SFO-1._0001.1 --autoConfiguration everything --conditionsTag="COMCOND-BLKPA-RUN1-07" --maxEvents 5 --outputESDFile myESD.pool.root --outputAODFile myAOD.pool.root --outputTAGFile myTAG.pool.root --outputHISTFile myHist.root --preExec 'rec.doDetailedAuditor=True' 'rec.doNameAuditor=True' 'rec.doTrigger=False'
     </options_atn>
      <timelimit>60</timelimit>
      <author>Jamie Boyd</author>
      <prescript>rm -f $ATN_WORK_AREA/*</prescript>
      <expectations>
	<errorMessage>FAILURE </errorMessage>
	<returnValue>0</returnValue>
      </expectations>
    </TEST>
    
    <!-- q-test 220 reconstruction -->
    <TEST name="RECOSHIFT_RecoTf_q220" type="script" suite="Reco_tf">
      <options_atn>
	export TRF_ECHO=True; Reco_tf.py --AMIConfig=q220 --preExec 'rec.doDetailedAuditor=True' 'rec.doNameAuditor=True' 'DQMonFlags.doCTPMon=False'
     </options_atn>
      <timelimit>60</timelimit>
      <author>RIG Convenors</author>
      <prescript>rm -f $ATN_WORK_AREA/*</prescript>
      <expectations>
	<errorMessage>FAILURE </errorMessage>
	<returnValue>0</returnValue>
      </expectations>
    </TEST>

    <!-- q-test 221 reconstruction -->
    <TEST name="RECOSHIFT_RecoTf_q221" type="script" suite="Reco_tf">
      <options_atn>
	export TRF_ECHO=True; Reco_tf.py --AMIConfig=q221 --preExec 'rec.doDetailedAuditor=True' 'rec.doNameAuditor=True'
     </options_atn>
      <timelimit>60</timelimit>
      <author>RIG Convenors</author>
      <prescript>rm -f $ATN_WORK_AREA/*</prescript>
      <expectations>
	<errorMessage>FAILURE </errorMessage>
	<returnValue>0</returnValue>
      </expectations>
    </TEST>

    <!-- q-test 222 reconstruction -->
    <TEST name="RECOSHIFT_RecoTf_q222" type="script" suite="Reco_tf">
      <options_atn>
	export TRF_ECHO=True; Reco_tf.py --AMIConfig=q222 --preExec 'rec.doDetailedAuditor=True' 'rec.doNameAuditor=True' 'DQMonFlags.doCTPMon=False' 'DQMonFlags.doHLTMon=False'
     </options_atn>
      <timelimit>60</timelimit>
      <author>RIG Convenors</author>
      <prescript>rm -f $ATN_WORK_AREA/*</prescript>
      <expectations>
	<errorMessage>FAILURE </errorMessage>
	<returnValue>0</returnValue>
      </expectations>
    </TEST>
    
    <!-- q-test 223 reconstruction -->
    <TEST name="RECOSHIFT_RecoTf_q223" type="script" suite="Reco_tf">
      <options_atn>
	export TRF_ECHO=True; Reco_tf.py --AMIConfig=q223 --preExec 'rec.doDetailedAuditor=True' 'rec.doNameAuditor=True' 'DQMonFlags.doCTPMon=False'
     </options_atn>
      <timelimit>60</timelimit>
      <author>RIG Convenors</author>
      <prescript>rm -f $ATN_WORK_AREA/*</prescript>
      <expectations>
	<errorMessage>FAILURE </errorMessage>
	<returnValue>0</returnValue>
      </expectations>
    </TEST>
  </atn>
  
  <kv>
    <kvtest name='RecoZeeJet' enabled='true'>
      <release>ALL</release>
      <priority>40</priority>
      <kvsuite>CSC</kvsuite>
      <trf>Reco_tf.py</trf>
      <desc>Z -> e e jet Reconstruction</desc>
      <author>Alessandro De Salvo [Alessandro.DeSalvo@roma1.infn.it]</author>
      <inpath>${T_DATAPATH}/MC12digitZeePyJT-${T_RELEASE}</inpath>
      <infile>${T_PREFIX}-MC12digitZeePyJT-${T_RELEASE}.pool.root</infile>
      <inpool>PoolFileCatalog.xml</inpool>
      <outpath>${T_DATAPATH}/RecoZeeJet-${T_RELEASE}</outpath>
      <outfile>${T_PREFIX}-RecoESDZeeJet-${T_RELEASE}.pool.root</outfile>
      <logfile>${T_PREFIX}-RecoZeeJet-${T_RELEASE}.log</logfile>
      <signature>
	--inputRDOFile "${T_INFILE}" --outputESDFile "${T_OUTFILE}" --outputAODFile "${T_PREFIX}-RecoAODZeeJet-${T_RELEASE}.pool.root"  --maxEvents 10 --autoConfiguration everything --conditionsTag="OFLCOND-RUN12-SDR-32" --postInclude KitValidation/kv_reflex.py
      </signature>
      <copyfiles>
	${T_OUTFILE} ${T_PREFIX}-RecoAODZeeJet-${T_RELEASE}.pool.root ${T_LOGFILE} PoolFileCatalog.xml metadata.xml jobInfo.xml
      </copyfiles>
      <checkfiles>${T_OUTPATH}/${T_OUTFILE} ${T_OUTPATH}/${T_PREFIX}-RecoAODZeeJet-${T_RELEASE}.pool.root</checkfiles>
    </kvtest>
    <kvtest name='BM1recoTT' enabled='false'>
      <release>ALL</release>
      <priority>40</priority>
      <kvsuite>BM1</kvsuite>
      <trf>Reco_tf.py</trf>
      <desc>Benchmark[1] tt Reconstruction</desc>
      <author>Alessandro De Salvo [Alessandro.DeSalvo@roma1.infn.it]</author>
      <inpath>${T_DATAPATH}/BM1digitTT-${T_RELEASE}</inpath>
      <infile>${T_PREFIX}-BM1digitTT-${T_RELEASE}.pool.root</infile>
      <inpool>PoolFileCatalog.xml</inpool>
      <outpath>${T_DATAPATH}/BM1recoTT-${T_RELEASE}</outpath>
      <outfile>${T_PREFIX}-BM1recoESDTT-${T_RELEASE}.pool.root</outfile>
      <logfile>${T_PREFIX}-BM1recoTT-${T_RELEASE}.log</logfile>
      <signature>
	--inputRDOFile "${T_INFILE}" --outputESDFile "${T_OUTFILE}" --outputAODFile "${T_PREFIX}-BM1recoAODTT-${T_RELEASE}.pool.root"  --maxEvents 100 --autoConfiguration everything --postInclude KitValidation/kv_perfmon.py
      </signature>
      <copyfiles>
	${T_OUTFILE} ${T_PREFIX}-BM1recoAODTT-${T_RELEASE}.pool.root ${T_LOGFILE} PoolFileCatalog.xml metadata.xml jobInfo.xml
      </copyfiles>
      <checkfiles>${T_OUTPATH}/${T_OUTFILE} ${T_OUTPATH}/${T_PREFIX}-BM1recoAODTT-${T_RELEASE}.pool.root</checkfiles>
    </kvtest>
  </kv>
  
  
  <rtt xmlns="http://www.hep.ucl.ac.uk/atlas/AtlasTesting/rtt">
    
    <rttContactPerson>Xiaohu Sun </rttContactPerson>
    <mailto>atlas.rig@cern.ch</mailto>
    
    <jobList>
      
      <classification>
	<displayClass>OfflineValidation</displayClass>
	<displayProcess>Reco</displayProcess>
	<displayComponent>Athena-Core</displayComponent>
      </classification>
      
      <!-- XS: Please update to MC15: Test runs on mc12 -->
      
      <jobTransform userJobId="mc12">
	<doc>Reco_tf runs on mc12</doc>
	<jobTransformJobName>RecoTf_mc12</jobTransformJobName>
	<jobTransformCmd>
	  Reco_tf.py --inputRDOFile root://eosatlas//eos/atlas/atlascerngroupdisk/phys-rig/pileupSamples/mc12_8TeV.105200.McAtNloJimmy_CT10_ttbar_LeptonFilter.digit.RDO.e1513_s1499_s1504_d700/RDO.01177879._000001.pool.root.1 --maxEvents 300 --autoConfiguration everything --conditionsTag="OFLCOND-RUN12-SDR-22" --preExec 'rec.doTrigger=False;' --outputESDFile myESD.pool.root --outputAODFile myAOD.pool.root --outputTAGFile myTAG.pool.root --outputHISTFile myHIST.root
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>long</queue>
      </jobTransform>
      
      <jobTransform userJobId="mc12_trigsplit">
	<doc>Reco_tf with split trigger runs on mc12</doc>
	<jobTransformJobName>RecoTf_trigsplit_mc12</jobTransformJobName>
	<jobTransformCmd>
	  Reco_tf.py --inputRDOFile root://eosatlas//eos/atlas/atlascerngroupdisk/phys-rig/pileupSamples/mc12_8TeV.105200.McAtNloJimmy_CT10_ttbar_LeptonFilter.digit.RDO.e1513_s1499_s1504_d700/RDO.01177879._000001.pool.root.1 --maxEvents 300 --autoConfiguration everything --conditionsTag="OFLCOND-RUN12-SDR-22" --steering RAWtoESD:in-RDO RAWtoESD:in-BS RAWtoESD:in+RDO_TRIG --outputESDFile myESD.pool.root --outputAODFile myAOD.pool.root --outputTAGFile myTAG.pool.root --outputHISTFile myHIST.root
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>long</queue>
      </jobTransform>
      
      <!-- Test runs on mc12 with Hephaestos-->
      
      <jobTransform userJobId="mc12_memleak">
	<doc>Reco_tf runs on mc12 with Hephaestos for memory leak checking</doc>
	<jobTransformJobName>RecoTf_mc12</jobTransformJobName>
	<jobTransformCmd>
	  export LD_PRELOAD=/afs/cern.ch/sw/lcg/external/libunwind/5c2cade/x86_64-slc6-gcc48-opt/lib/libunwind.so; Reco_tf.py --inputRDOFile root://eosatlas//eos/atlas/user/a/atlaspmb/mc/valid1.117050.PowhegPythia_P2011C_ttbar.recon.RDO.e2658_s1967_s1964_r5787_tid01572821_00/RDO.01572821._000019.pool.root.1 --maxEvents 10 --outputESDFile myESD.pool.root --athenaopts '--stdcmalloc --leak-check-execute'
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>long</queue>
      </jobTransform>
      
      <chain>
	<chainName>PhysicsValidationDC14ChainJob</chainName>
	<sequential>
	  <!-- Run Reco -->
	  <chainElement>
	    <jobTransform userJobId="Reco_DC14_8TeV_pileup">
	      <doc>Reco_tf runs on mc1214 TeV with sampleA settings defined by Carl G, April 16 2014</doc>
	      <jobTransformJobName>Reco_DC14_trf</jobTransformJobName>
	      <jobTransformCmd>
		export TRF_ECHO=True; Reco_tf.py --DBRelease="current" --autoConfiguration="everything" --conditionsTag="OFLCOND-RUN12-SDR-25" --digiSeedOffset1="1" --digiSeedOffset2="1" --geometryVersion="ATLAS-R1-2012-02-00-00" --jobNumber 1 --maxEvents 500 --numberOfHighPtMinBias="0.055936" --numberOfLowPtMinBias="39.9444" --postExec "CfgMgr.MessageSvc().setError+=[\"HepMcParticleLink\"]" "HITtoRDO:job.StandardPileUpToolsAlg.PileUpTools[\"MergeMcEventCollTool\"].OnlySaveSignalTruth=True" --postInclude="RecJobTransforms/UseFrontier.py" --preExec "rec.doTrigger.set_Value_and_Lock(False);rec.Commissioning.set_Value_and_Lock(True);jobproperties.Beam.numberOfCollisions.set_Value_and_Lock(20.0)" "HITtoRDO:from LArROD.LArRODFlags import larRODFlags;larRODFlags.doOFCPileupOptimization.set_Value_and_Lock(True);larRODFlags.NumberOfCollisions.set_Value_and_Lock(20);larRODFlags.UseDelta.set_Value_and_Lock(3)" "RAWtoESD:from LArROD.LArRODFlags import larRODFlags;larRODFlags.doOFCPileupOptimization.set_Value_and_Lock(True);larRODFlags.UseDelta.set_Value_and_Lock(3);from CaloRec.CaloCellFlags import jobproperties;jobproperties.CaloCellFlags.doLArCellEmMisCalib=False" "ESDtoAOD:TriggerFlags.AODEDMSet=\"AODFULL\"" --preInclude HITtoRDO:Digitization/ForceUseOfPileUpTools.py,SimulationJobOptions/preInclude.PileUpBunchTrains2011Config8_DigitConfig.py,RunDependentSimData/configLumi_mc14_2012_v1.py --skipEvents="0" --inputHITSFile="/afs/cern.ch/atlas/project/rig/referencefiles/RTTinputFiles/8TeV/valid1.105200.McAtNloJimmy_CT10_ttbar_LeptonFilter.simul.HITS.e1574_s2039_tid01566078_00/HITS.01566078._000483.pool.root.1" --inputLowPtMinbiasHitsFile="/afs/cern.ch/user/p/physval/validafs/disk2/mc14_8TeV.119995.Pythia8_A2MSTW2008LO_minbias_inelastic_low.merge.HITS.e1119_s1896_s1903_tid01415612_00/HITS.01415612._[000005,000006,000007,000008].pool.root" --inputHighPtMinbiasHitsFile="/afs/cern.ch/user/p/physval/validafs/disk2/mc14_8TeV.119996.Pythia8_A2MSTW2008LO_minbias_inelastic_high.merge.HITS.e1119_s1896_s1903_tid01415616_00/HITS.01415616._[000005,000006,000007,000008].pool.root" --outputAODFile="AOD_8TeV_PhysVal.pool.root" --outputESDFile="ESD.pool.root" --outputRDOFile="RDO.pool.root"
	      </jobTransformCmd>
	      <group>RecTrf</group>
	      <queue>long</queue>
	      <batchWallTime>300</batchWallTime>
	    </jobTransform>
	    <chainfileout>AOD_8TeV_PhysVal.pool.root</chainfileout>
	  </chainElement>
	</sequential>
      </chain>
      
      <jobTransform userJobId="Reco_MC15_13TeV_nopileup">
	<doc>Reco_tf runs physics validation as defined by Carl G/Marie-Helene G, July 28 2014</doc>
	<jobTransformJobName>Reco_MC15_tf</jobTransformJobName>
	<jobTransformCmd>
	  export TRF_ECHO=True; Reco_tf.py '--inputHITSFile=/afs/cern.ch/atlas/project/rig/referencefiles/MC/valid1.110401.PowhegPythia_P2012_ttbar_nonallhad.e3099_s2578/HITS.04919495._000958.pool.root.1' '--AMITag=r6193' '--DBRelease=current' '--DataRunNumber=222525' '--autoConfiguration=everything' '--conditionsTag=OFLCOND-RUN12-SDR-25' '--digiSeedOffset1=1' '--digiSeedOffset2=1' '--geometryVersion=ATLAS-R2-2015-03-01-00' '--jobNumber=1' '--maxEvents=500' '--numberOfCavernBkg=0' '--outputAODFile=AOD_13TeV_PhysVal.pool.root' '--outputRDOFile=RDO.pool.root' '--outputESDFile=ESD.pool.root' '--postExec' 'RAWtoESD:from AthenaCommon.AlgSequence import AlgSequence;AlgSequence().LVL1TGCTrigger.TILEMU=True;from IOVDbSvc.CondDB import conddb; conddb.addOverride("/PIXEL/PixelClustering/PixelClusNNCalib","PixelClusNNCalib-SIM-RUN12-000-02")' '--postInclude=RecJobTransforms/UseFrontier.py' '--preExec' 'rec.Commissioning.set_Value_and_Lock(True);rec.doTrigger.set_Value_and_Lock(True);from AthenaCommon.BeamFlags import jobproperties;jobproperties.Beam.numberOfCollisions.set_Value_and_Lock(0.);from LArROD.LArRODFlags import larRODFlags;larRODFlags.nSamples.set_Value_and_Lock(4)' 'HITtoRDO:from Digitization.DigitizationFlags import digitizationFlags;digitizationFlags.overrideMetadata+=["SimLayout","PhysicsList"]' 'RAWtoESD:from TriggerJobOpts.TriggerFlags import TriggerFlags;TriggerFlags.triggerMenuSetup="MC_pp_v5_loose_mc_prescale";from CaloRec.CaloCellFlags import jobproperties;jobproperties.CaloCellFlags.doLArCellEmMisCalib=False' 'ESDtoAOD:TriggerFlags.AODEDMSet="AODFULL"' '--runNumber=110401' '--skipEvents=0'
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>long</queue>
      </jobTransform>
      
      <chain>
	<chainName>PhysicsValidationMC15ChainJob13TeV</chainName>
	<sequential>
	  <!-- Run Reco -->
	  <chainElement>
	    <jobTransform userJobId="Reco_MC15_13TeV">
	      <doc>Reco_tf runs physics validation as defined by Carl G, April 18 2015</doc>
	      <jobTransformJobName>Reco_MC15_tf</jobTransformJobName>
	      <jobTransformCmd>
		export TRF_ECHO=True; Reco_tf.py --inputHITSFile="/afs/cern.ch/atlas/project/rig/referencefiles/RTTinputFiles/MC15_13TeV/valid1.110401.PowhegPythia_P2012_ttbar_nonallhad.simul.HITS.e3099_s2578_tid04919495_00/HITS.04919495._[000416,000417,000418,000419,000420].pool.root" --AMITag="r6594" --autoConfiguration="everything" --conditionsTag "default:OFLCOND-RUN12-SDR-28" --digiSeedOffset1="64" --digiSeedOffset2="64" --geometryVersion="default:ATLAS-R2-2015-03-01-00" --inputHighPtMinbiasHitsFile="/afs/cern.ch/atlas/project/rig/referencefiles/RTTinputFiles/MC15_13TeV/mc15_valid.361035.Pythia8EvtGen_A2MSTW2008LO_minbias_inelastic_high.merge.HITS.e3581_s2578_s2169_tid05098387_00/HITS.05098387._[002354,002355,002356,002357,002358,002359,002360,002361,002370,002371,002372,002373,002374,002375,002376,002377,002378,002379,002380,002381,002387,002388,002389,002390,002391].pool.root" --inputLowPtMinbiasHitsFile="/afs/cern.ch/atlas/project/rig/referencefiles/RTTinputFiles/MC15_13TeV/mc15_valid.361034.Pythia8EvtGen_A2MSTW2008LO_minbias_inelastic_low.merge.HITS.e3581_s2578_s2169_tid05098374_00/HITS.05098374._[002102,002103,002104,002105,002106,002107,002108,002109,002110,002111,002112,002113,002114,002115,002116,002117,002118,002119,002120,002121,002122,002123,002124,002125,002126].pool.root" --jobNumber="64" --maxEvents="500" --numberOfCavernBkg="0" --numberOfHighPtMinBias="0.12268057" --numberOfLowPtMinBias="39.8773194" --outputAODFile="AOD_13TeV_PhysVal.pool.root" --outputESDFile="ESD.pool.root" --outputRDOFile="RDO.pool.root" --postExec "all:CfgMgr.MessageSvc().setError+=[\"HepMcParticleLink\"]" "HITtoRDO:job.StandardPileUpToolsAlg.PileUpTools[\"MergeMcEventCollTool\"].OnlySaveSignalTruth=True" "RAWtoESD:ToolSvc.LArAutoCorrTotalToolDefault.deltaBunch="1"" "HITtoRDO:ToolSvc.LArAutoCorrTotalToolDefault.deltaBunch=1" --postInclude "default:RecJobTransforms/UseFrontier.py" --preExec "all:rec.Commissioning.set_Value_and_Lock(True);rec.doTrigger.set_Value_and_Lock(True);from AthenaCommon.BeamFlags import jobproperties;jobproperties.Beam.numberOfCollisions.set_Value_and_Lock(20.0);from LArROD.LArRODFlags import larRODFlags;larRODFlags.NumberOfCollisions.set_Value_and_Lock(20);larRODFlags.nSamples.set_Value_and_Lock(4);larRODFlags.doOFCPileupOptimization.set_Value_and_Lock(True);larRODFlags.firstSample.set_Value_and_Lock(0);larRODFlags.useHighestGainAutoCorr.set_Value_and_Lock(True)" "RAWtoESD:from TriggerJobOpts.TriggerFlags import TriggerFlags;TriggerFlags.triggerMenuSetup=\"MC_pp_v5_loose_mc_prescale\";from CaloRec.CaloCellFlags import jobproperties;jobproperties.CaloCellFlags.doLArCellEmMisCalib=False" "ESDtoAOD:TriggerFlags.AODEDMSet=\"AODFULL\"" "RDOtoRDOTrigger:from TriggerJobOpts.TriggerFlags import TriggerFlags;TriggerFlags.triggerMenuSetup=\"MC_pp_v5_loose_mc_prescale\";" "HITtoRDO:from AthenaCommon.BeamFlags import jobproperties;jobproperties.Beam.bunchSpacing.set_Value_and_Lock(50);" --preInclude "HITtoRDO:Digitization/ForceUseOfPileUpTools.py,SimulationJobOptions/preInclude.PileUpBunchTrainsMC15_2015_50ns_Config1.py,RunDependentSimData/configLumi_run222510.py" "RDOtoRDOTrigger:RecExPers/RecoOutputMetadataList_jobOptions.py" --runNumber="110401" --skipEvents="0" --steering "RAWtoESD:in-RDO,in+RDO_TRIG,in-BS" --pileupFinalBunch 6
	      </jobTransformCmd>
	      <group>RecTrf</group>
	      <queue>long</queue>
	    </jobTransform>
	    <chainfileout>AOD_13TeV_PhysVal.pool.root</chainfileout>
	  </chainElement>
	  
	  <!-- Runs validation histogram code -->
	  <chainElement>
	    <jobTransform userJobId="PhysVal_MC15_13TeV_Example">
	      <doc>Reco_tf runs physcs validation as defined by Carl G/Marie-Helene G, May 7 2014</doc>
	      <jobTransformJobName>PhysVal_MC15_trf</jobTransformJobName>
	      <jobTransformCmd>
		Reco_tf.py --inputAODFile AOD_13TeV_PhysVal.pool.root --outputNTUP_PHYSVALFile PhysVal_13TeV_Example.pool.root --validationFlags doExample 
	      </jobTransformCmd>
	      <group>RecTrf</group>
	      <chaindataset_info>
		<jobTransformData /> 
		<chaindatasetName>AOD_13TeV_PhysVal.pool.root</chaindatasetName>
		<dataset_info>
		  <jobTransformData />
		  <datasetName>/afs/cern.ch/atlas/project/rig/referencefiles/RTTinputFiles/MC15_13TeV/AOD_13TeV_PhysVal.pool.root</datasetName>
		</dataset_info>
	      </chaindataset_info>
	      <queue>long</queue>
	      <batchWallTime>300</batchWallTime>
	    </jobTransform>
	  </chainElement>
	  <chainElement>
	    <jobTransform userJobId="PhysVal_MC15_13TeV_All">
	      <doc>Reco_tf runs physcs validation as defined by Carl G/Marie-Helene G, May 7 2014</doc>
	      <jobTransformJobName>PhysVal_MC15_trf</jobTransformJobName>
	      <jobTransformCmd>
		Reco_tf.py --inputAODFile AOD_13TeV_PhysVal.pool.root --outputNTUP_PHYSVALFile PhysVal_14TeV_All.pool.root --validationFlags doExample doPFlow doTopoCluster doJet doMET doMuon doTau doEgamma doBtag doInDet doZee
	      </jobTransformCmd>
	      <group>RecTrf</group>
	      <chaindataset_info>
		<jobTransformData /> 
		<chaindatasetName>AOD_13TeV_PhysVal.pool.root</chaindatasetName>
		<dataset_info>
		  <jobTransformData />
		  <datasetName>/afs/cern.ch/atlas/project/rig/referencefiles/RTTinputFiles/MC15_13TeV/AOD_13TeV_PhysVal.pool.root</datasetName>
		</dataset_info>
	      </chaindataset_info>
	      <queue>long</queue>
	      <batchWallTime>300</batchWallTime>
	    </jobTransform>
	  </chainElement>
	</sequential>
      </chain>
      
      <jobTransform userJobId="Reco_MC15_13TeV_nopileup_stdcmalloc">
	<doc>Reco_tf runs physics validation alternatively with stdcmalloc</doc>
	<jobTransformJobName>Reco_MC15_tf</jobTransformJobName>
	<jobTransformCmd>
	  export TRF_ECHO=True; Reco_tf.py '--inputHITSFile=/afs/cern.ch/atlas/project/rig/referencefiles/MC/valid1.110401.PowhegPythia_P2012_ttbar_nonallhad.e3099_s2578/HITS.04919495._000958.pool.root.1' '--AMITag=r6193' '--DBRelease=current' '--DataRunNumber=222525' '--autoConfiguration=everything' '--conditionsTag=OFLCOND-RUN12-SDR-25' '--digiSeedOffset1=1' '--digiSeedOffset2=1' '--geometryVersion=ATLAS-R2-2015-03-01-00' '--jobNumber=1' '--maxEvents=500' '--numberOfCavernBkg=0' '--outputAODFile=AOD.pool.root' '--outputRDOFile=RDO.pool.root' '--outputESDFile=ESD.pool.root' '--postExec' 'RAWtoESD:from AthenaCommon.AlgSequence import AlgSequence;AlgSequence().LVL1TGCTrigger.TILEMU=True;from IOVDbSvc.CondDB import conddb; conddb.addOverride("/PIXEL/PixelClustering/PixelClusNNCalib","PixelClusNNCalib-SIM-RUN12-000-02")' '--postInclude=RecJobTransforms/UseFrontier.py' '--preExec' 'rec.Commissioning.set_Value_and_Lock(True);rec.doTrigger.set_Value_and_Lock(True);from AthenaCommon.BeamFlags import jobproperties;jobproperties.Beam.numberOfCollisions.set_Value_and_Lock(0.);from LArROD.LArRODFlags import larRODFlags;larRODFlags.nSamples.set_Value_and_Lock(4)' 'HITtoRDO:from Digitization.DigitizationFlags import digitizationFlags;digitizationFlags.overrideMetadata+=["SimLayout","PhysicsList"]' 'RAWtoESD:from TriggerJobOpts.TriggerFlags import TriggerFlags;TriggerFlags.triggerMenuSetup="MC_pp_v5_loose_mc_prescale";from CaloRec.CaloCellFlags import jobproperties;jobproperties.CaloCellFlags.doLArCellEmMisCalib=False' 'ESDtoAOD:TriggerFlags.AODEDMSet="AODFULL"' '--runNumber=110401' '--skipEvents=0' --athenaopts="--stdcmalloc"
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>long</queue>
      </jobTransform>
      
    <jobTransform userJobId="Reco_MC15_13TeV_r7226">
	<doc>Reco_tf runs physics validation proposed in https://its.cern.ch/jira/browse/ATLASRECTS-2630</doc>
	<jobTransformJobName>Reco_MC15_tf</jobTransformJobName>
	<jobTransformCmd>
	export TRF_ECHO=True; 'Reco_tf.py' '--AMI=r7226' '--inputHITSFile=/afs/cern.ch/atlas/project/rig/referencefiles/RTTinputFiles/MC15_13TeV/valid1.147913.Pythia8_AU2CT10_jetjet_JZ3W.simul.HITS.e3099_s2578_tid04919481_00/HITS.04919481._001796.pool.root.1' '--inputLowPtMinbiasHitsFile=/afs/cern.ch/atlas/project/rig/referencefiles/RTTinputFiles/MC15_13TeV/mc15_valid.361034.Pythia8EvtGen_A2MSTW2008LO_minbias_inelastic_low.merge.HITS.e3581_s2578_s2169_tid05098374_00/HITS.05098374._001001.pool.root.1' '--inputHighPtMinbiasHitsFile=/afs/cern.ch/atlas/project/rig/referencefiles/RTTinputFiles/MC15_13TeV/mc15_valid.361035.Pythia8EvtGen_A2MSTW2008LO_minbias_inelastic_high.merge.HITS.e3581_s2578_s2169_tid05098387_00/HITS.05098387._000655.pool.root.1' '--outputAODFile=myAOD.pool.root' '--outputRDOFile=tmp.RDO.pool.root' '--jobNumber=12345' '--maxEvents=500'
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>long</queue>
      </jobTransform>


      <jobTransform userJobId="mc12_rdotobs">
	<doc>RDO to BS on MC tt MC12 </doc>
	<jobTransformJobName>RecoTf_RDOtoBS</jobTransformJobName>
	<jobTransformCmd>
	  Reco_tf.py --inputRDOFile root://eosatlas//eos/atlas/atlascerngroupdisk/phys-rig/pileupSamples/mc12_8TeV.105200.McAtNloJimmy_CT10_ttbar_LeptonFilter.digit.RDO.e1513_s1499_s1504_d700/RDO.01177879._000001.pool.root.1 --outputBSFile mc12_8TeV.105200.McAtNloJimmy_CT10_ttbar_LeptonFilter.data --autoConfiguration everything --maxEvents -1
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>medium</queue>
	<testToRemove> 
          <jobGroupName>Transform</jobGroupName> 
          <testidentifier>CheckFileRunner0</testidentifier> 
	</testToRemove> 
      </jobTransform>
      
      
      <!-- Test runs on Heavy Ion MC/Data -->
      
      <!-- removed outputHISTFile=HIST.root option -->
      
      <!-- This fails due to trigger configuration and has been reported in JIRA: https://its.cern.ch/jira/browse/ATR-10267 -->
      <jobTransform userJobId="mc_heavy_ion">
	<doc>heavy ion reconstruction test from Andrzej Olszewski and Iwona Grabowska-Bold</doc>
	<jobTransformJobName>HeavyIon_mc</jobTransformJobName>
	<jobTransformCmd>
	  export TRF_ECHO=True; Reco_tf.py --inputHITSFile=/afs/cern.ch/atlas/project/rig/referencefiles/RTTinputFiles/HeavyIon/HITS.04974747._000006.pool.root.1 --outputRDOFile=RDO.pool.root --outputESDFile=ESD.pool.root --outputAODFile=AOD.pool.root --autoConfiguration=everything --conditionsTag=OFLCOND-RUN12-SDR-14 --geometryVersion=ATLAS-R2-2015-01-01-00 --DataRunNumber=222222 --maxEvents=25 --preExec 'rec.Commissioning.set_Value_and_Lock(True)' --preInclude 'RAWtoESD:RecJobTransforms/HeavyIonRecConfig.py' --triggerConfig MCRECO:Physics_HI_v3
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>medium</queue>
      </jobTransform>
      
      <!-- Input file does not have run number and nentries - reported to Andrzej (HI PROC) who has been asked to come up with new /CO -->
      <jobTransform userJobId="data_heavy_ion">
	<doc>heavy ion reconstruction test from Andrzej Olszewski and Iwona Grabowska-Bold</doc>
	<jobTransformJobName>HeavyIon_data</jobTransformJobName>
	<jobTransformCmd>
	  export TRF_ECHO=True; Reco_tf.py --inputBSFile /afs/cern.ch/atlas/project/rig/referencefiles/RTTinputFiles/HeavyIon/data11_hi.00193321.physics_HardProbes.merge.RAW._lb0050._SFO-9._0002.1 --outputESDFile ESD.pool.root --outputAODFile AOD.pool.root --conditionsTag COMCOND-BLKPA-RUN1-06 --geometryVersion ATLAS-R1-2011-02-00-00 --autoConfiguration=everything --maxEvents='25'
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>medium</queue>
      </jobTransform>
      
      <!-- Test runs on 8TeV collision data -->
      
      <jobTransform userJobId="data12_8TeV">
	<doc>Reco_tf runs on 8TeV collision data</doc>
	<jobTransformJobName>RecoTf_8TeV_data</jobTransformJobName>
	<jobTransformCmd>
	  Reco_tf.py --inputBSFile /afs/cern.ch/atlas/project/rig/referencefiles/dataStreams_high_mu/data12_8TeV/data12_8TeV.00209109.physics_JetTauEtmiss.merge.RAW._lb0186._SFO-1._0001.1 --maxEvents 300 --autoConfiguration everything --conditionsTag="COMCOND-BLKPA-RUN1-07" --preExec 'rec.doTrigger=False;' --outputESDFile myESD.pool.root --outputAODFile myAOD.pool.root --outputTAGFile myTAG.pool.root --outputHISTFile myHist.root 
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>long</queue>
      </jobTransform>

      <!-- Test runs on 8TeV collision data with Hephaestos -->
      
      <jobTransform userJobId="data12_8TeV_memleak">
	<doc>Reco_tf runs on 8TeV collision data with Hephaestos for checking for memory leaks</doc>
	<jobTransformJobName>RecoTf_8TeV_data</jobTransformJobName>
	<jobTransformCmd>
	  export LD_PRELOAD=/afs/cern.ch/sw/lcg/external/libunwind/5c2cade/x86_64-slc6-gcc48-opt/lib/libunwind.so; Reco_tf.py --inputBSFile /afs/cern.ch/atlas/project/rig/referencefiles/PerformanceTestDataFiles_data12/data12_8TeV.00213092.physics_JetTauEtmiss.merge.RAW._lb0285._SFO-1._0001.1 --maxEvents 5 --autoConfiguration everything --conditionsTag="COMCOND-BLKPA-RUN1-07" --preExec 'rec.doTrigger=False' --outputESDFile myESD.pool.root --athenaopts '--stdcmalloc --leak-check-execute' 
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>long</queue>
      </jobTransform>
      
      <jobTransform userJobId="data12_8TeV_fpe">
	<doc>Reco_tf runs on 8TeV collision data with floating point exception enabled</doc>
	<jobTransformJobName>RecoTf_8TeV_data_fpe</jobTransformJobName>
	<jobTransformCmd>
          Reco_tf.py --inputBSFile /afs/cern.ch/atlas/project/rig/referencefiles/dataStreams_high_mu/data12_8TeV/data12_8TeV.00209109.physics_JetTauEtmiss.merge.RAW._lb0186._SFO-1._0001.1 --maxEvents 300 --autoConfiguration everything --conditionsTag="COMCOND-BLKPA-RUN1-07" --outputESDFile myESD.pool.root --outputAODFile myAOD.pool.root --outputTAGFile myTAG.pool.root --outputHISTFile myHist.root --preExec 'rec.doFloatingPointException=True;rec.doTrigger=False;' --postExec 'FPEAuditor.NStacktracesOnFPE=5' 
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>long</queue>
      </jobTransform>
      
      <jobTransform userJobId="data12_8TeV_nocalo">
	<doc>Reco_tf runs on 8TeV collision data without calo</doc>
	<jobTransformJobName>RecoTf_8TeV_data_nocalo</jobTransformJobName>
	<jobTransformCmd>
          Reco_tf.py --inputBSFile /afs/cern.ch/atlas/project/rig/referencefiles/dataStreams_high_mu/data12_8TeV/data12_8TeV.00209109.physics_JetTauEtmiss.merge.RAW._lb0186._SFO-1._0001.1 --maxEvents 300 --autoConfiguration everything --conditionsTag="COMCOND-BLKPA-RUN1-07" --outputESDFile myESD.pool.root --outputAODFile myAOD.pool.root --preExec 'rec.doCalo=False;rec.doTrigger=False;' --postExec 'from AthenaCommon.DetFlags import DetFlags' 'DetFlags.detdescr.Calo_setOn()'
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>long</queue>
      </jobTransform>
      
      <jobTransform userJobId="data12_8TeV_noid">
	<doc>Reco_tf runs 8TeV collision data without id</doc>
	<jobTransformJobName>RecoTf_8TeV_data_noid</jobTransformJobName>
	<jobTransformCmd>
          Reco_tf.py --inputBSFile /afs/cern.ch/atlas/project/rig/referencefiles/dataStreams_high_mu/data12_8TeV/data12_8TeV.00209109.physics_JetTauEtmiss.merge.RAW._lb0186._SFO-1._0001.1 --maxEvents 300 --autoConfiguration everything --conditionsTag="COMCOND-BLKPA-RUN1-07" --outputESDFile myESD.pool.root --outputAODFile myAOD.pool.root --preExec 'rec.doInDet=False;rec.doTrigger=False;' --postExec 'from AthenaCommon.DetFlags import DetFlags' 'DetFlags.detdescr.ID_setOn()'
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>long</queue>
      </jobTransform>
      
      <jobTransform userJobId="data12_8TeV_nomuon">
	<doc>Reco_tf runs on 8TeV collision data without muon</doc>
	<jobTransformJobName>RecoTf_8TeV_data_nomuon</jobTransformJobName>
	<jobTransformCmd>
          Reco_tf.py --inputBSFile /afs/cern.ch/atlas/project/rig/referencefiles/dataStreams_high_mu/data12_8TeV/data12_8TeV.00209109.physics_JetTauEtmiss.merge.RAW._lb0186._SFO-1._0001.1 --maxEvents 300 --autoConfiguration everything --conditionsTag="COMCOND-BLKPA-RUN1-07" --outputESDFile myESD.pool.root --outputAODFile myAOD.pool.root --preExec 'rec.doMuon=False;rec.doTrigger=False;'
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>long</queue>
      </jobTransform>
      
      <jobTransform userJobId="data12_8TeV_notrig">
	<doc>Reco_tf runs 8TeV collision data without trigger</doc>
	<jobTransformJobName>RecoTf_8TeV_data_notrigger</jobTransformJobName>
	<jobTransformCmd>
          Reco_tf.py --inputBSFile /afs/cern.ch/atlas/project/rig/referencefiles/dataStreams_high_mu/data12_8TeV/data12_8TeV.00209109.physics_JetTauEtmiss.merge.RAW._lb0186._SFO-1._0001.1 --maxEvents 300 --autoConfiguration everything --conditionsTag="COMCOND-BLKPA-RUN1-07" --outputESDFile myESD.pool.root --outputAODFile myAOD.pool.root --preExec 'rec.doTrigger=False'
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>long</queue>
      </jobTransform>
      
      <!-- Test runs on cosmic data -->
      
      <jobTransform userJobId="cosmis_allstream">
	<doc>Reco_tf runs on cosmics with all streams</doc>
	<jobTransformJobName>RecoTf_cosmics</jobTransformJobName>
	<jobTransformCmd>
          Reco_tf.py --inputBSFile /afs/cern.ch/atlas/project/rig/data/data11_cos.00193024.physics_CosmicCalo.merge.RAW/data11_cos.00193024.physics_CosmicCalo.merge.RAW._lb0096._SFO-ALL._0001.1 --maxEvents 300 --autoConfiguration everything --conditionsTag="COMCOND-BLKPA-RUN1-07" --preExec="rec.doTrigger=False;" --outputESDFile myESD.pool.root --outputNTUP_MUONCALIBFile muonCalib.root --outputHISTFile myMergedMonitoring.root --outputTAGFile myTAG.pool.root
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>medium</queue>
      </jobTransform>
      
      <!-- Test runs on 7TeV collision data -->
      
      <jobTransform userJobId="data11_7TeV">
	<doc>Reco_tf runs on 7TeV collision data with all streams</doc>
	<jobTransformJobName>RecoTf_7TeV_data_a</jobTransformJobName>
	<jobTransformCmd>
          Reco_tf.py --inputBSFile /afs/cern.ch/atlas/project/rig/referencefiles/dataStreams_high_mu/high_mu-data11_7TeV.00179725.physics_JetTauEtmiss.merge.RAW._lb0021.data --maxEvents 300 --autoConfiguration everything --conditionsTag="COMCOND-BLKPA-RUN1-07" --preExec 'rec.doTrigger=False;' --outputESDFile myESD.pool.root --outputAODFile myAOD.pool.root --outputTAGFile myTAG.pool.root --outputHISTFile myHist.root
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>long</queue>
      </jobTransform>
      
      <!-- run with different database releases -->
      <jobTransform userJobId="q121_dbrelease_pcache">
	<doc>Reco_tf of a run-1 MC test with a nightly dbrelease, to test dbrelease before it is distributed</doc>
	<jobTransformJobName>RecoTf_q121_diff_dbrelease</jobTransformJobName>
	<jobTransformCmd>
	  Reco_tf.py --AMIConfig q121 --DBRelease /afs/cern.ch/atlas/www/GROUPS/DATABASE/pacman4/DBRelease/DBRelease-pcache-current.tar.gz --preExec rec.Production=False --postExec "print svcMgr.IOVDbSvc.Folders"
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>medium</queue>
      </jobTransform>
      
      <jobTransform userJobId="q221_dbrelease_pcache">
	<doc>Reco_tf of a run-2 MC test with a nightly dbrelease, to test dbrelease before it is distributed</doc>
	<jobTransformJobName>RecoTf_q221_diff_dbrelease</jobTransformJobName>
	<jobTransformCmd>
	  Reco_tf.py --AMIConfig q221 --DBRelease /afs/cern.ch/atlas/www/GROUPS/DATABASE/pacman4/DBRelease/DBRelease-pcache-current.tar.gz --preExec rec.Production=False --postExec "print svcMgr.IOVDbSvc.Folders"
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>medium</queue>
      </jobTransform>
      
      <!-- Test runs on splash events -->
      <jobTransform userJobId="splash_events">
	<doc> Reco_tf runs on splash events with all streams</doc>
	<jobTransformJobName>RecoTf_splash_events</jobTransformJobName>
	<jobTransformCmd>
	  export TRF_ECHO=True; Reco_tf.py --inputBSFile /afs/cern.ch/atlas/project/rig/referencefiles/RTTinputFiles/Data_13TeV/data15_comm.00265545.physics_MinBias.merge.RAW._lb0048._SFO-ALL._0001.1 --autoConfiguration everything --conditionsTag="CONDBR2-BLKPA-2015-04" --geometryVersion="ATLAS-R2-2015-03-01-00" --outputESDFile myESD.pool.root --outputNTUP_MUONCALIBFile muonCalib.root --outputHISTFile myMergedMonitoring.root --outputTAGFile myTAG.pool.root --maxEvents 300 --preExec 'rec.doTrigger=False;'
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>medium</queue>
      </jobTransform>
      
      <!-- Test runs with pileup MC samples w/o trigger -->
      <!-- Broken, reported here: https://its.cern.ch/jira/browse/ATLASRECTS-1695 /CO -->
      <jobTransform userJobId="DigiMReco_tf_FCT">
	<doc>Test of DigiMReco from HITS to AOD/TAG</doc>
	<jobTransformJobName>DigiMReco_FCT</jobTransformJobName>
	<jobTransformCmd>
	  export TRF_ECHO=True; Reco_tf.py --inputHITSFile root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/digitization/RTT/mc11a/mc11_7TeV.105200.T1_McAtNlo_Jimmy.merge.HITS.e835_s1310_s1300/HITS.508808._000857.pool.root.1 --outputESDFile my.ESD.pool.root --outputHISTFile my.HIST.pool.root --outputAODFile my.ADO.pool.root --outputTAGFile my.TAG.pool.root --maxEvents 10 --triggerConfig MCRECO:MC_pp_v5 --preInclude 'h2r:Digitization/ForceUseOfPileUpTools.py,SimulationJobOptions/preInclude.PileUpBunchTrains2011Config8_DigitConfig.py,RunDependentSimData/configLumi_mc11b_v1.py' --preExec 'h2r:from Digitization.DigitizationFlags import digitizationFlags;digitizationFlags.overrideMetadata+=["SimLayout","PhysicsList"];from AthenaMonitoring.DQMonFlags import DQMonFlags; DQMonFlags.doCaloMon.set_Value_and_Lock(False); DQMonFlags.doLArMon.set_Value_and_Lock(False);' --postExec 'h2r:ToolSvc.LArAutoCorrTotalToolDefault.NMinBias=0' 'e2a:TriggerFlags.AODEDMSet "AODSLIM";rec.Commissioning.set_Value_and_Lock(True);jobproperties.Beam.energy.set_Value_and_Lock(3500*Units.GeV);muonRecFlags.writeSDOs=True;jobproperties.Beam.numberOfCollisions.set_Value_and_Lock(8.0);jobproperties.Beam.bunchSpacing.set_Value_and_Lock(50)' 'r2e:RegSelSvc=topSequence.allConfigurables.get("RegSelSvcDefault");RegSelSvc.DeltaZ=225*Units.mm' 'r2e:rec.Commissioning.set_Value_and_Lock(True);jobproperties.Beam.energy.set_Value_and_Lock(3500*Units.GeV);muonRecFlags.writeSDOs=True;jobproperties.Beam.numberOfCollisions.set_Value_and_Lock(8.0);jobproperties.Beam.bunchSpacing.set_Value_and_Lock(50);from InDetTrigRecExample.ConfiguredNewTrackingTrigCuts import L2IDTrackingCuts;L2IDTrackingCuts.setRegSelZmax(225*Units.mm)'  --RunNumber 105200 --autoConfiguration everything --conditionsTag=OFLCOND-RUN12-SDR-22 --geometryVersion ATLAS-GEO-18-01-00 --numberOfLowPtMinBias 29.966 --numberOfHighPtMinBias 0.034 --LowPtMinbiasHitsFile root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/digitization/RTT/mc11a/mc11_7TeV.108118.Pythia8_minbias_Inelastic_low.merge.HITS.e816_s1299_s1303/HITS.500617._000382.pool.root.1 --HighPtMinbiasHitsFile root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/digitization/RTT/mc11a/mc11_7TeV.108119.Pythia8_minbias_Inelastic_high.merge.HITS.e848_s1299_s1303/HITS.500616._001496.pool.root.1 --DataRunNumber -1 --jobNumber 41 --digiSeedOffset1 41 --digiSeedOffset2 41 
	</jobTransformCmd>
	<group>RecTrf</group>
	<queue>long</queue>
      </jobTransform>
      
      
      <jobTransform userJobId="amitag_q120">
        <doc> Reco_tf runs with AMI configTag q120</doc>
        <jobTransformJobName>RecoTrf_AMI_q120</jobTransformJobName>
        <jobTransformCmd>
          echo 'Reco_tf.py --AMI=q120 --outputESDFile=myESD.pool.root --outputAODFile=myAOD.pool.root --outputTAGFile=myTAG.pool.root &amp;&amp; mv myESD.pool.root myESD_$AtlasVersion.pool.root &amp;&amp; mv myAOD.pool.root myAOD_$AtlasVersion.pool.root &amp;&amp; mv myTAG.pool.root myTAG_$AtlasVersion.pool.root &amp;&amp; ln -s myESD_$AtlasVersion.pool.root myESD_current.pool.root &amp;&amp; ln -s myAOD_$AtlasVersion.pool.root myAOD_current.pool.root &amp;&amp; ln -s myTAG_$AtlasVersion.pool.root myTAG_current.pool.root' > doall.sh &amp;&amp; source doall.sh
        </jobTransformCmd>
        <group>RecTrf</group>
        <queue>medium</queue>
      </jobTransform>
      
      <!-- Crashes in TRTMonManager, reported in JIRA: https://its.cern.ch/jira/browse/ATLASRECTS-1699 /CO -->
      <jobTransform userJobId="amitag_q121">
        <doc> Reco_tf runs with AMI configTag q121</doc>
        <jobTransformJobName>RecoTrf_AMI_q121</jobTransformJobName>
        <jobTransformCmd>
          echo 'Reco_tf.py --AMI=q121 --outputESDFile=myESD.pool.root --outputAODFile=myAOD.pool.root --outputTAGFile=myTAG.pool.root &amp;&amp; mv myESD.pool.root myESD_$AtlasVersion.pool.root &amp;&amp; mv myAOD.pool.root myAOD_$AtlasVersion.pool.root &amp;&amp; mv myTAG.pool.root myTAG_$AtlasVersion.pool.root &amp;&amp; ln -s myESD_$AtlasVersion.pool.root myESD_current.pool.root &amp;&amp; ln -s myAOD_$AtlasVersion.pool.root myAOD_current.pool.root &amp;&amp; ln -s myTAG_$AtlasVersion.pool.root myTAG_current.pool.root' > doall.sh &amp;&amp; source doall.sh
        </jobTransformCmd>
        <group>RecTrf</group>
        <queue>medium</queue>
      </jobTransform>

      <jobTransform userJobId="amitag_q122">
        <doc> Reco_tf runs with AMI configTag q122</doc>
        <jobTransformJobName>RecoTrf_AMI_q122</jobTransformJobName>
        <jobTransformCmd>
          echo 'Reco_tf.py --AMI=q122 --outputESDFile=myESD.pool.root --outputAODFile=myAOD.pool.root --outputTAGFile=myTAG.pool.root &amp;&amp; mv myESD.pool.root myESD_$AtlasVersion.pool.root &amp;&amp; mv myAOD.pool.root myAOD_$AtlasVersion.pool.root &amp;&amp; mv myTAG.pool.root myTAG_$AtlasVersion.pool.root &amp;&amp; ln -s myESD_$AtlasVersion.pool.root myESD_current.pool.root &amp;&amp; ln -s myAOD_$AtlasVersion.pool.root myAOD_current.pool.root &amp;&amp; ln -s myTAG_$AtlasVersion.pool.root myTAG_current.pool.root' > doall.sh &amp;&amp; source doall.sh
        </jobTransformCmd>
        <group>RecTrf</group>
        <queue>medium</queue>
      </jobTransform>
      
    </jobList>
    
    <jobGroups>
      
      <jobGroup name="RecTrf" parent="Transform">
	<keepFilePattern>*.root*</keepFilePattern>
	<keepFilePattern>*.pmon.gz</keepFilePattern>
	<keepFilePattern>*.log</keepFilePattern>
	<keepFilePattern>log.*</keepFilePattern>
	<keepFilePattern>logExtract.txt</keepFilePattern>
	<keepFilePattern>SGAud*.out</keepFilePattern>
        <keepFilePattern>*.txt</keepFilePattern>
        <keepFilePattern>*.bz2</keepFilePattern>
	
	<keepFilePattern>jobReport*.json</keepFilePattern>
	<keepFilePattern>*.data</keepFilePattern>
	
	<auxFilePattern>run_memleak_rjtt.sh</auxFilePattern>
	<auxFilePattern>slurpRecoRTTTests.pl</auxFilePattern>
	<auxFilePattern>compressRTTLogFiles_rjtt.sh</auxFilePattern>
	
	<action position="1" runInAtlasEnv="yes">
	  <modulename>PostProcessRecoRTTTests</modulename>
	  <testname>PostProcessRecoRTTTests</testname>
	</action>
	
      </jobGroup>   
    </jobGroups>
    
  </rtt>
  
</unifiedTestConfiguration>
